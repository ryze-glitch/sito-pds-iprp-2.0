<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0043A4">
    <link rel="manifest" href="manifest.json">
    <title>Polizia di Stato - IPRP X</title>
    <link rel="icon" type="image/png" sizes="196x196" href="https://i.imgur.com/mXERJv5.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/mXERJv5.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="https://i.imgur.com/mXERJv5.png?v=3">
    <link rel="apple-touch-icon" sizes="180x180" href="https://i.imgur.com/mXERJv5.png?v=3">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #2563eb;
            --secondary-blue: #3b82f6;
            --dark-blue: #1e40af;
            --light-blue: #dbeafe;
            --accent-red: #ef4444;
            --text-dark: #1f2937;
            --text-gray: #4b5563;
            --bg-light: #f8fafc;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --font-size: 16px;
        }

        /* (ripristino) rimosso tema modern-ui globale */

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: #ffffff;
            margin: 0;
            padding: 0;
            transition: background-color 0.3s ease, color 0.3s ease;
            font-size: var(--font-size);
            min-height: 100vh;
        }

        body.dark-mode {
            background-color: #1a1a1a;
            color: #e5e7eb;
        }

        body.high-contrast {
            --primary-blue: #0000FF;
            --text-dark: #000000;
            --text-gray: #000000;
            background: #FFFFFF;
            color: #000000;
        }

        /* ===== GLOBAL ANIMATIONS SYSTEM ===== */
        
        /* Smooth scrolling for all elements */
        html {
            scroll-behavior: smooth;
        }
        
        /* Global animation classes */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        .animate-fade-in {
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .animate-slide-left {
            animation: slideInLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .animate-slide-right {
            animation: slideInRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .animate-scale-in {
            animation: scaleIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .animate-bounce-in {
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) both;
        }
        
        .animate-rotate-in {
            animation: rotateIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .animate-flip-in {
            animation: flipInX 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        /* Stagger animations */
        .animate-stagger > * {
            animation-delay: calc(var(--stagger-delay, 0) * 0.1s);
        }
        
        /* Keyframe animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotate(-200deg);
            }
            to {
                opacity: 1;
                transform: rotate(0deg);
            }
        }
        
        @keyframes flipInX {
            from {
                opacity: 0;
                transform: perspective(400px) rotateX(90deg);
            }
            40% {
                transform: perspective(400px) rotateX(-20deg);
            }
            60% {
                transform: perspective(400px) rotateX(10deg);
            }
            80% {
                transform: perspective(400px) rotateX(-5deg);
            }
            to {
                opacity: 1;
                transform: perspective(400px) rotateX(0deg);
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(37, 99, 235, 0.6);
            }
        }
        
        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
        
        @keyframes wiggle {
            0%, 7% {
                transform: rotateZ(0);
            }
            15% {
                transform: rotateZ(-15deg);
            }
            20% {
                transform: rotateZ(10deg);
            }
            25% {
                transform: rotateZ(-10deg);
            }
            30% {
                transform: rotateZ(6deg);
            }
            35% {
                transform: rotateZ(-4deg);
            }
            40%, 100% {
                transform: rotateZ(0);
            }
        }
        
        /* Enhanced hover animations */
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }
        
        .hover-scale {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
        }
        
        .hover-glow {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(37, 99, 235, 0.4);
        }
        
        .hover-rotate {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-rotate:hover {
            transform: rotate(5deg);
        }
        
        .hover-wiggle:hover {
            animation: wiggle 0.5s ease-in-out;
        }
        
        /* Loading animations */
        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .loading-spin {
            animation: spin 1s linear infinite;
        }
        
        .loading-bounce {
            animation: bounce 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(-25%);
                animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
            }
            50% {
                transform: translateY(0);
                animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
            }
        }
        
        /* Page transition animations */
        .page-enter {
            animation: pageEnter 0.5s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        .page-exit {
            animation: pageExit 0.3s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        @keyframes pageEnter {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pageExit {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-20px);
            }
        }
        
        /* Parallax scrolling effect */
        .parallax-slow {
            transform: translateZ(0);
            transition: transform 0.1s ease-out;
        }
        
        .parallax-fast {
            transform: translateZ(0);
            transition: transform 0.1s ease-out;
        }
        
        /* Text animations */
        .text-reveal {
            overflow: hidden;
        }
        
        .text-reveal span {
            display: inline-block;
            animation: textReveal 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }
        
        @keyframes textReveal {
            from {
                opacity: 0;
                transform: translateY(100%);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Gradient animations */
        .gradient-animated {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        /* Enhanced focus states */
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
            animation: focusPulse 0.3s ease-out;
        }
        
        @keyframes focusPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7);
            }
            100% {
                box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
            }
        }


        body.dark-mode .navbar {
            background: linear-gradient(135deg, #000000 0%, #001D3D 100%);
        }

        body.dark-mode .service-card,
        body.dark-mode .news-card,
        body.dark-mode .annuncio-card,
        body.dark-mode .timeline-content,
        body.dark-mode .changelog-card,
        body.dark-mode .chi-siamo-card,
        body.dark-mode .contact-form,
        body.dark-mode .qualifiche-image-container,
        body.dark-mode .faq-item,
        body.dark-mode .modal-content {
            background: #2d2d2d;
            color: #e5e7eb;
        }

        body.dark-mode .section-white {
            background: #1a1a1a;
        }

        body.dark-mode .footer {
            background: linear-gradient(135deg, #000000 0%, #001D3D 100%);
        }

        /* Dark styles for new About components */
        body.dark-mode .about-hero { background:#111315; border-color:#2b2f36; box-shadow: none; }
        body.dark-mode .about-hero .overline { background:#1b2330; border-color:#2b3a4f; color:#a8c7ff; }
        body.dark-mode .about-card { background:#16181c; border-color:#2b2f36; }
        body.dark-mode .about-image { background:#16181c; border-color:#2b2f36; }
        body.dark-mode .about-image img { box-shadow:none; }
        body.dark-mode .about-chip { background:#18202b; border-color:#263245; color:#a8c7ff; box-shadow:none; }
        body.dark-mode .about-values { background:#111315; border-color:#2b2f36; box-shadow:none; }
        body.dark-mode .about-value-title { color:#e5e7eb; }
        body.dark-mode .about-value-text { color:#cbd5e1; }

        /* Dark mode for news section */
        body.dark-mode .news-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #2d2d2d 100%);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        body.dark-mode .news-card::before {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
        }
        
        body.dark-mode .news-title {
            background: linear-gradient(135deg, #e5e7eb, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        body.dark-mode .news-date {
            background: rgba(45, 45, 45, 0.9);
            color: #cbd5e1;
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        body.dark-mode .news-excerpt {
            color: #e5e7eb;
        }
        
        body.dark-mode .news-author {
            color: #9ca3af;
        }
        
        body.dark-mode .news-read-more {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.3);
            color: #60a5fa;
        }
        
        body.dark-mode .news-read-more:hover {
            background: rgba(59, 130, 246, 0.3);
        }

        /* Dark tweaks for cards and thumbnails */
        body.dark-mode .service-card { background:#16181c; border-color:#2b2f36; }
        body.dark-mode .vehicle-thumb { box-shadow:none; }

        /* Cookie Banner */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 1.5rem;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
            z-index: 10000;
            display: none;
            animation: slideUp 0.5s ease-out;
        }

        .cookie-banner.active {
            display: block;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .cookie-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .cookie-text {
            flex: 1;
            min-width: 300px;
        }

        .cookie-text h4 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .cookie-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .cookie-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cookie-accept {
            background: var(--success-green);
            color: white;
        }

        .cookie-accept:hover {
            background: #059669;
        }

        .cookie-settings {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .cookie-settings:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10001;
            padding: 2rem;
            overflow-y: auto;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-gray);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #f3f4f6;
            color: var(--text-dark);
        }

        .modal-header {
            margin-bottom: 2rem;
        }

        .modal-header h2 {
            color: var(--dark-blue);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .modal-meta {
            color: var(--text-gray);
            font-size: 0.9rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .modal-body {
            line-height: 1.8;
            font-size: 1.05rem;
        }

        .modal-share {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #e5e7eb;
        }

        .share-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .share-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .share-btn.facebook { background: #1877f2; color: white; }
        .share-btn.twitter { background: #1da1f2; color: white; }
        .share-btn.whatsapp { background: #25d366; color: white; }
        .share-btn.pdf { background: #dc2626; color: white; }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Live Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0,67,164,0.4);
            z-index: 999;
            transition: all 0.3s ease;
            animation: pulse-chat 2s infinite;
        }

        @keyframes pulse-chat {
            0%, 100% { box-shadow: 0 4px 20px rgba(0,67,164,0.4); }
            50% { box-shadow: 0 4px 30px rgba(0,67,164,0.6); }
        }

        .chat-widget:hover {
            transform: scale(1.1);
        }

        .chat-widget-icon {
            font-size: 1.8rem;
            color: white;
        }

        .chat-box {
            position: fixed;
            bottom: 170px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 40px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            z-index: 999;
            animation: fadeIn 0.3s ease-out;
        }

        .chat-box.active {
            display: flex;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 1.5rem;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-size: 1.1rem;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            background: #f9fafb;
        }

        .chat-message {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .chat-message.bot {
            background: var(--light-blue);
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-family: inherit;
        }

        .chat-send {
            padding: 0.75rem 1.5rem;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        /* Accessibility Toolbar */
        .accessibility-toolbar {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 1rem;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .accessibility-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--light-blue);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .accessibility-btn:hover {
            background: var(--primary-blue);
            color: white;
            transform: scale(1.1);
        }

        .accessibility-btn.active {
            background: var(--primary-blue);
            color: white;
        }

        /* Hero Carousel */
        .hero-carousel {
            position: relative;
            overflow: hidden;
        }

        .carousel-slide {
            display: none;
        }

        .carousel-slide.active {
            display: block;
        }

        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: white;
            width: 30px;
            border-radius: 6px;
        }

        /* News Ticker */
        .news-ticker {
            background: var(--warning-orange);
            color: white;
            padding: 0.75rem 0;
            overflow: hidden;
            position: relative;
        }

        .ticker-content {
            display: flex;
            gap: 3rem;
            animation: ticker 30s linear infinite;
        }

        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .ticker-item {
            white-space: nowrap;
            font-weight: 600;
        }

        /* FAQ Section */
        .faq-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .faq-item {
            background: white;
            margin-bottom: 1rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--dark-blue);
            transition: background 0.3s ease;
        }

        .faq-question:hover {
            background: var(--light-blue);
        }

        .faq-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 1.5rem;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem;
        }

        .faq-answer p {
            color: var(--text-gray);
            line-height: 1.7;
        }

        /* Testimonials */
        .testimonials-slider {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
        }

        .testimonial-card {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            text-align: center;
            display: none;
        }

        .testimonial-card.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .testimonial-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto 1.5rem;
        }

        .testimonial-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--text-dark);
            font-style: italic;
            margin-bottom: 1.5rem;
        }

        .testimonial-author {
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0.25rem;
        }

        .testimonial-role {
            color: var(--text-gray);
            font-size: 0.9rem;
        }

        .testimonial-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .testimonial-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--primary-blue);
            background: white;
            color: var(--primary-blue);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .testimonial-btn:hover {
            background: var(--primary-blue);
            color: white;
        }

        /* Language Selector */
        .language-selector {
            position: relative;
            margin-left: 1rem;
        }

        .language-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            margin-top: 0.5rem;
            display: none;
            min-width: 150px;
        }

        .language-dropdown.active {
            display: block;
        }

        .language-option {
            padding: 0.75rem 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: background 0.3s ease;
            color: var(--text-dark);
        }

        .language-option:hover {
            background: var(--light-blue);
        }

        /* Weather Widget */
        .weather-widget {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .weather-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .weather-temp {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .weather-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Newsletter */
        .newsletter-box {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            margin: 3rem 0;
        }

        .newsletter-box h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            max-width: 500px;
            margin: 2rem auto 0;
        }

        .newsletter-input {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
        }

        .newsletter-submit {
            padding: 1rem 2rem;
            background: white;
            color: var(--primary-blue);
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Video Section */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .video-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .video-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 30px rgba(0,67,164,0.15);
        }

        .video-thumbnail {
            position: relative;
            padding-top: 56.25%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-blue);
        }

        .video-info {
            padding: 1.5rem;
        }

        .video-title {
            font-weight: 700;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .video-desc {
            color: var(--text-gray);
            font-size: 0.9rem;
        }

        /* QR Code */
        .qr-container {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .qr-code {
            width: 200px;
            height: 200px;
            margin: 1rem auto;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 3rem;
        }

        /* Print Styles */
        @media print {
            .navbar, .footer, .back-to-top, .chat-widget, .accessibility-toolbar, .cookie-banner {
                display: none !important;
            }
            body {
                background: white;
                color: black;
            }
        }

        /* Page Transition */
        .page-transition {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 31, 63, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Scroll Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
            z-index: 9999;
            transition: width 0.1s ease;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 67, 164, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-to-top.visible {
            display: flex;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 67, 164, 0.4);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 30px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .toast {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 300px;
            animation: slideIn 0.4s ease-out;
            border-left: 4px solid var(--success-green);
        }

        .toast.success { border-left-color: var(--success-green); }
        .toast.error { border-left-color: var(--accent-red); }
        .toast.info { border-left-color: var(--primary-blue); }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-icon {
            font-size: 1.5rem;
        }

        .toast-message {
            flex: 1;
            font-weight: 600;
            color: var(--text-dark);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-gray);
        }

        /* Badge Nuovo */
        .badge-new {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #EF4444, #DC2626);
            color: white;
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
            animation: pulse-badge 2s infinite;
        }

        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Breadcrumb */
        .breadcrumb {
            padding: 1rem 2rem;
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
        }

        body.dark-mode .breadcrumb {
            background: #2d2d2d;
            border-bottom-color: #404040;
        }

        .breadcrumb-container {
            max-width: 1300px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--primary-blue);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .breadcrumb a:hover {
            color: var(--secondary-blue);
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: var(--text-gray);
        }

        .breadcrumb-current {
            color: var(--text-gray);
            font-weight: 600;
        }

        /* Visitor Counter */
        .visitor-counter {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            margin-top: 1rem;
        }

        .visitor-counter span {
            font-size: 1.1rem;
            font-weight: 700;
        }

        /* Link Utili Box */
        .link-utili-box {
            background: linear-gradient(135deg, var(--light-blue) 0%, white 100%);
            padding: 2.5rem;
            border-radius: 20px;
            margin: 3rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            border: 2px solid var(--primary-blue);
        }

        body.dark-mode .link-utili-box {
            background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
        }

        .link-utili-box h3 {
            color: var(--dark-blue);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
            font-weight: 700;
        }

        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .link-card {
            background: white;
            padding: 1.2rem;
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
            border: 1px solid #B8C5D1;
        }

        body.dark-mode .link-card {
            background: #404040;
            color: #e5e7eb;
        }

        .link-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(0,67,164,0.22);
        }

        .link-card-icon {
            font-size: 2rem;
        }

        .link-card-text h4 {
            font-size: 1rem;
            margin-bottom: 0.2rem;
            color: var(--primary-blue);
        }

        .link-card-text p {
            font-size: 0.8rem;
            color: var(--text-gray);
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.3rem;
            margin-left: 1rem;
        }

        .dark-mode-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(20deg);
        }

        /* Search Bar */
        .search-container {
            position: relative;
            margin-left: 1rem;
        }

        .search-toggle {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            color: white;
        }

        .search-toggle:hover {
            background: rgba(255,255,255,0.3);
        }

        .search-box {
            position: absolute;
            top: 60px;
            right: 0;
            background: white;
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            display: none;
            min-width: 350px;
        }

        .search-box.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        /* Emergency Banner */
        .emergency-banner {
            background: linear-gradient(90deg, var(--accent-red) 0%, #B91C1C 100%);
            color: white;
            padding: 0.75rem;
            text-align: center;
            font-weight: 600;
            font-size: 0.95rem;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
            position: relative;
            overflow: hidden;
        }

        .emergency-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Navbar */
        .navbar {
            background: #0043A4;
            color: white;
            box-shadow: 0 4px 20px rgba(0, 67, 164, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 85px;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            color: white;
            flex-shrink: 0;
            transition: transform 0.3s ease;
            margin-left: -2rem;
            padding-left: 1rem;
        }

        .nav-logo:hover {
            transform: translateY(-2px);
        }

        .nav-logo img {
            height: 55px;
            width: auto;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2));
        }

        .nav-logo-text h1 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.15rem;
            letter-spacing: -0.5px;
        }

        .nav-logo-text p {
            font-size: 0.75rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-menu {
            display: flex;
            gap: 0.5rem;
            list-style: none;
            align-items: center;
            margin: 0;
        }

        .nav-menu li {
            margin: 0;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            font-size: 0.85rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1rem;
            gap: 0.4rem;
            border-radius: 8px;
            position: relative;
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }

        .nav-menu a:focus-visible {
            outline: 2px solid rgba(255,255,255,0.65);
            outline-offset: 2px;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%) scaleX(0);
            width: 60%;
            height: 2px;
            background: white;
            transition: transform 0.3s ease;
        }

        .nav-menu a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .nav-menu a:hover::after {
            transform: translateX(-50%) scaleX(1);
        }

        .nav-menu a.active {
            background: rgba(255,255,255,0.18);
        }

        .nav-menu a.active::after {
            transform: translateX(-50%) scaleX(1);
        }

        .nav-menu a span.icon {
            font-size: 1.6rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .nav-menu a .nav-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .nav-menu .login-link {
            background: transparent;
            margin-left: 0;
            padding: 0.75rem 1rem;
            box-shadow: none;
        }

        .nav-menu .login-link:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
            box-shadow: none;
        }

        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .nav-menu-mobile {
            display: none;
        }

        /* Mobile menu smooth expand */
        @media (max-width: 768px) {
            .nav-menu-mobile {
                transition: max-height 0.25s ease;
                max-height: 0;
                overflow: hidden;
            }
            .nav-menu-mobile.active {
                max-height: 80vh;
            }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--dark-blue) 0%, var(--primary-blue) 50%, var(--secondary-blue) 100%);
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            font-weight: 800;
            letter-spacing: -1px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.2);
            animation: fadeInUp 1.2s cubic-bezier(0.4, 0, 0.2, 1) both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero p {
            font-size: 1.6rem;
            margin-bottom: 1rem;
            opacity: 0.95;
            font-weight: 400;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        .hero .subtitle {
            font-style: italic;
            opacity: 0.9;
            margin-bottom: 3rem;
            font-size: 1.2rem;
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 4rem;
            animation: fadeInUp 0.8s ease-out 0.6s backwards;
        }

        .btn-primary {
            background: white;
            color: var(--primary-blue);
            padding: 1.2rem 2.5rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }

        .btn-primary:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.25);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            color: white;
            padding: 1.2rem 2.5rem;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-4px);
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            max-width: 900px;
            margin: 0 auto;
            animation: fadeInUp 0.8s ease-out 0.8s backwards;
        }

        .stat-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            padding: 2rem 1.5rem;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            background: rgba(255,255,255,0.25);
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
        }

        .stat-card h3 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .stat-card p {
            font-size: 0.9rem;
            opacity: 0.9;
            font-weight: 500;
        }

        .stat-number {
            display: inline-block;
        }

        /* Container */
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Section */
        .section {
            padding: 5rem 2rem;
        }

        .section-white {
            background: white;
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #FFFFFF;
            font-weight: 800;
            letter-spacing: -1px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .section-subtitle {
            text-align: center;
            color: #E2E8F0;
            margin-bottom: 4rem;
            font-size: 1.2rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
        }

        /* Home Services (v3 modern) */
        .section-separator {
            height: 18px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
        }

        .home-services-section {
            padding: 4rem 2rem 5rem;
            background: linear-gradient(180deg, #F2F7FF 0%, #FFFFFF 60%);
            border-top: 1px solid #E5E7EB;
        }

        .home-services-overline {
            text-align: center;
            color: var(--primary-blue);
            font-weight: 800;
            letter-spacing: 1.2px;
            font-size: 0.85rem;
            text-transform: uppercase;
        }

        .home-services-title {
            text-align: center;
            font-size: 2.4rem;
            color: var(--dark-blue);
            font-weight: 900;
            margin: 0.4rem 0 0.6rem;
            letter-spacing: -0.6px;
        }

        .home-services-subtitle {
            text-align: center;
            color: var(--text-gray);
            margin: 0 auto 2.5rem;
            max-width: 820px;
        }

        .services-grid-v3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1.6rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .service-card-v3 {
            background: rgba(42, 42, 42, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 32px rgba(0,0,0,0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            backdrop-filter: blur(10px);
        }

        .service-card-v3:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .service-card-v3 .thumb {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .service-card-v3 .content {
            padding: 1rem 1.1rem 1.2rem;
            display: flex;
            flex-direction: column;
            gap: 0.45rem;
            flex: 1;
        }

        .service-card-v3 .title {
            color: var(--primary-blue);
            text-transform: uppercase;
            font-size: 0.95rem;
            font-weight: 900;
            letter-spacing: 0.5px;
            text-decoration: none;
        }

        .service-card-v3 .desc { color: var(--text-dark); font-size: 0.96rem; }

        .service-card-v3 .more {
            margin-top: auto;
            font-size: 0.92rem;
            color: var(--text-dark);
        }

        .service-card-v3 .more a {
            color: var(--primary-blue);
            font-weight: 700;
            text-decoration: none;
        }

        .service-card-v3 .more a:hover { text-decoration: underline; }

        /* Modern Horizontal Top Sidebar */
        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.6);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 999;
        }

        .sidebar-overlay.visible { 
            opacity: 1; 
            pointer-events: auto; 
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: auto;
            min-height: 100vh;
            background: linear-gradient(135deg, rgba(0,29,61,0.98) 0%, rgba(0,67,164,0.95) 100%);
            backdrop-filter: blur(20px);
            color: #fff;
            transform: translateY(-100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .sidebar.open { 
            transform: translateY(0); 
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 2rem 2rem 1rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-brand { 
            display: flex; 
            align-items: center; 
            gap: 1rem; 
            color: #fff; 
            text-decoration: none; 
        }

        .sidebar-brand img { 
            height: 64px; 
            width: auto; 
            max-width: 180px;
            display: block;
            object-fit: contain;
            image-rendering: auto;
            -webkit-user-drag: none;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }

        .sidebar-brand strong {
            font-size: 1.4rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .sidebar-close { 
            background: rgba(255,255,255,0.1); 
            border: 1px solid rgba(255,255,255,0.2); 
            color: #fff; 
            font-size: 1.8rem; 
            padding: 0.5rem 1rem; 
            cursor: pointer; 
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .sidebar-close:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .sidebar-content {
            flex: 1;
            padding: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .sidebar-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-section h3 {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.9;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            color: #fff;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .sidebar-nav a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(8px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .sidebar-nav a span {
            font-size: 1.2rem;
        }

        .sidebar-footer {
            padding: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
        }

        /* Prenotazioni Section */
        .prenota-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .prenota-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .prenota-header h2 {
            color: var(--dark-blue);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
        }

        .prenota-subtitle {
            color: var(--text-gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .google-form-container {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 3rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
        }

        .google-form-container iframe {
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .prenota-info {
            margin-bottom: 3rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .info-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,67,164,0.15);
        }

        .info-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .info-card h3 {
            color: var(--dark-blue);
            font-size: 1.3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .info-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .info-card li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f3f4f6;
            color: var(--text-gray);
            line-height: 1.5;
        }

        .info-card li:last-child {
            border-bottom: none;
        }

        .prenota-support {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: 3rem;
            border-radius: 20px;
            margin-bottom: 3rem;
        }

        .prenota-support h3 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 2rem;
            font-weight: 700;
        }

        .support-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .support-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .support-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .support-item strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .support-item p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .prenota-faq {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 8px 28px rgba(0,0,0,0.15);
            border: 1px solid #B8C5D1;
        }

        .prenota-faq h3 {
            color: var(--dark-blue);
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 700;
        }

        .faq-list {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid #B8C5D1;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8fafc;
            font-weight: 600;
            color: var(--dark-blue);
            transition: background 0.3s ease;
        }

        .faq-question:hover {
            background: #e2e8f0;
        }

        .faq-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 1.5rem;
        }

        .faq-item.active .faq-answer {
            max-height: 200px;
            padding: 0 1.5rem 1.5rem;
        }

        .faq-answer p {
            color: var(--text-gray);
            line-height: 1.7;
            margin: 0;
        }

        .service-card {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            cursor: pointer;
            border: 1px solid rgba(0,67,164,0.1);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) both;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 40px rgba(0,67,164,0.15);
        }

        .service-card:hover::before {
            transform: scaleX(1);
        }

        .service-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            transition: transform 0.4s ease;
        }

        .service-card:hover .service-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark-blue);
            font-weight: 700;
        }

        .service-card p {
            color: var(--text-gray);
            line-height: 1.7;
            font-size: 1rem;
        }

        /* Vehicle thumbnail */
        .vehicle-thumb {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 1rem;
            box-shadow: 0 4px 14px rgba(0,0,0,0.08);
        }

        /* News Section - Modern Design */
        .news-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .news-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 24px;
            padding: 0;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            backdrop-filter: blur(10px);
        }

        .news-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue), #8b5cf6);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .news-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .news-card:hover::before {
            opacity: 1;
        }

        .news-card-header {
            padding: 2rem 2rem 1rem;
            position: relative;
        }

        .news-category {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }

        .news-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .news-card:hover .news-category::before {
            left: 100%;
        }

        .news-category.lutto {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .news-category.nomina {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .news-category.comunicato {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .news-date {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: rgba(255, 255, 255, 0.9);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-gray);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .news-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark-blue);
            line-height: 1.3;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--dark-blue), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .news-author {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-gray);
            margin-bottom: 1.5rem;
        }

        .news-author::before {
            content: '👤';
            font-size: 1rem;
        }

        .news-content {
            padding: 0 2rem 2rem;
        }

        .news-excerpt {
            color: var(--text-dark);
            line-height: 1.7;
            font-size: 1rem;
            margin-bottom: 1.5rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .news-read-more {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 700;
            font-size: 0.95rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            background: rgba(37, 99, 235, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .news-read-more:hover {
            background: rgba(37, 99, 235, 0.15);
            transform: translateX(4px);
            gap: 0.75rem;
        }

        .news-read-more::after {
            content: '→';
            transition: transform 0.3s ease;
        }

        .news-read-more:hover::after {
            transform: translateX(4px);
        }

        /* News Filters */
        .news-filters {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .news-filter-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--primary-blue);
            background: transparent;
            color: var(--primary-blue);
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .news-filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-blue);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .news-filter-btn:hover::before,
        .news-filter-btn.active::before {
            left: 0;
        }

        .news-filter-btn:hover,
        .news-filter-btn.active {
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .news-card-header,
            .news-content {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }
            
            .news-date {
                position: static;
                margin-bottom: 1rem;
                display: inline-block;
            }
            
            .news-title {
                font-size: 1.3rem;
            }
        }

        /* Timeline Aggiornamenti */
        .timeline-container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
        }

        .timeline-line {
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 4px;
        }

        .timeline-item {
            position: relative;
            padding-left: 80px;
            margin-bottom: 3rem;
            animation: fadeInLeft 0.6s ease-out;
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .timeline-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 60px;
            height: 60px;
            background: white;
            border: 4px solid var(--primary-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 4px 15px rgba(0,67,164,0.2);
            z-index: 1;
        }

        .timeline-content {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary-blue);
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 30px rgba(0,67,164,0.15);
        }

        .timeline-date {
            font-size: 0.9rem;
            color: var(--primary-blue);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .timeline-content h3 {
            font-size: 1.4rem;
            color: var(--dark-blue);
            margin-bottom: 0.75rem;
            font-weight: 700;
        }

        .timeline-content p {
            color: var(--text-gray);
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .timeline-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .tag {
            background: var(--light-blue);
            color: var(--primary-blue);
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .changelog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .changelog-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            border-top: 4px solid var(--success-green);
            transition: all 0.3s ease;
        }

        .changelog-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 30px rgba(0,67,164,0.12);
        }

        .changelog-version {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .changelog-date {
            font-size: 0.9rem;
            color: var(--text-gray);
            margin-bottom: 1.5rem;
        }

        .changelog-list {
            list-style: none;
        }

        .changelog-list li {
            padding: 0.75rem 0;
            border-bottom: 1px solid #E5E7EB;
            display: flex;
            align-items: start;
            gap: 0.75rem;
            color: var(--text-dark);
        }

        .changelog-list li:last-child {
            border-bottom: none;
        }

        .changelog-list li::before {
            content: '✓';
            background: var(--success-green);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* Qualifiche Image Display */
        .qualifiche-image-container {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin: 3rem auto;
            max-width: 1000px;
            text-align: center;
        }

        .qualifiche-image-container h3 {
            color: var(--dark-blue);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .qualifiche-image-container img {
            width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .qualifiche-image-container img:hover {
            transform: scale(1.02);
        }

        /* Emergency Section */
        .emergency-section {
            background: linear-gradient(135deg, var(--accent-red) 0%, #B91C1C 100%);
            color: white;
            padding: 5rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .emergency-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .emergency-section .container {
            position: relative;
            z-index: 1;
        }

        .emergency-section h2 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .emergency-section p {
            font-size: 1.4rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
        }

        .emergency-button {
            background: white;
            color: var(--accent-red);
            padding: 1.8rem 3.5rem;
            border-radius: 16px;
            text-decoration: none;
            font-weight: 800;
            font-size: 1.8rem;
            display: inline-block;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }

        .emergency-button:hover {
            transform: scale(1.08);
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
        }

        .emergency-note {
            margin-top: 1.5rem;
            font-size: 1rem;
            opacity: 0.9;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--dark-blue) 0%, var(--primary-blue) 100%);
            color: white;
            padding: 4rem 2rem 2rem;
        }

        .footer-container {
            max-width: 1300px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h4 {
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.75rem;
        }

        .footer-section a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-section a:hover {
            color: white;
            padding-left: 5px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.2);
            opacity: 0.9;
        }

        .footer-social {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .footer-social a {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .footer-social a:hover {
            transform: translateY(-3px);
        }

        /* Page Content */
        .page-content {
            min-height: 60vh;
            padding: 5rem 2rem;
        }

        .page-content h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-align: center;
            color: var(--dark-blue);
            font-weight: 800;
        }

        .page-content .subtitle {
            text-align: center;
            color: var(--text-gray);
            margin-bottom: 4rem;
            font-size: 1.2rem;
        }

        .filters {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.75rem 2rem;
            border-radius: 50px;
            border: 2px solid var(--light-blue);
            background: white;
            color: var(--primary-blue);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            background: var(--light-blue);
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .contact-form {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
            max-width: 800px;
            margin: 0 auto;
        }

        .contact-form h2 {
            margin-bottom: 2rem;
            color: var(--dark-blue);
            font-weight: 700;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark-blue);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 67, 164, 0.1);
        }

        .form-submit {
            width: 100%;
            padding: 1.2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 67, 164, 0.3);
        }

        /* Chi Siamo */
        .chi-siamo-content {
            max-width: 1100px;
            margin: 0 auto;
        }

        /* Modern About - Hero */
        .about-hero {
            background: #fff;
            border: 1px solid #E8F0FB;
            box-shadow: 0 8px 26px rgba(0,67,164,0.07);
            border-radius: 18px;
            padding: 1.6rem;
            margin-bottom: 2rem;
        }

        .about-hero .overline {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.35rem 0.8rem;
            border-radius: 999px;
            font-weight: 800;
            letter-spacing: 0.6px;
            color: var(--primary-blue);
            background: #F1F6FF;
            border: 1px solid #E3EEFF;
            margin-bottom: 0.8rem;
        }

        .about-hero h2 {
            font-size: 2rem;
            color: var(--dark-blue);
            margin-bottom: 0.35rem;
            font-weight: 900;
            letter-spacing: -0.6px;
        }

        .about-hero p.subtitle {
            color: var(--text-gray);
            max-width: 820px;
            font-size: 1rem;
        }

        /* Two-column Story + Gallery */
        .about-grid {
            display: grid;
            grid-template-columns: 1.1fr 0.9fr;
            gap: 1.4rem;
            margin-top: 1.2rem;
            align-items: start;
        }

        .about-card {
            background: #fff;
            border: 1px solid #E6EEF9;
            border-radius: 16px;
            padding: 1.75rem;
            box-shadow: 0 8px 24px rgba(0,67,164,0.08);
        }

        .about-card h3 {
            color: var(--dark-blue);
            font-size: 1.4rem;
            margin-bottom: 0.8rem;
            font-weight: 800;
        }

        .about-card p {
            color: var(--text-gray);
            line-height: 1.85;
            font-size: 1.02rem;
        }

        .about-gallery { display: grid; grid-template-columns: 1fr; gap: 1rem; }

        .about-image {
            background: #fff;
            border: 1px solid #E6EEF9;
            border-radius: 14px;
            padding: 0.8rem;
            box-shadow: 0 6px 18px rgba(0,67,164,0.08);
            text-align: center;
        }

        .about-image img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 14px rgba(0,0,0,0.08);
        }

        .about-image .caption {
            margin-top: 0.6rem;
            color: var(--text-gray);
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Stats Row (chips) */
        .about-stats { display:flex; flex-wrap:wrap; gap:0.6rem; margin: 1.2rem 0 0 0; }
        .about-chip {
            display:inline-flex; align-items:center; gap:0.6rem;
            background:#F6FAFF; color:var(--primary-blue);
            border:1px solid #E3EEFF; border-radius:999px;
            padding:0.5rem 0.9rem; font-weight:800;
            box-shadow:0 3px 10px rgba(0,67,164,0.06);
        }
        .about-chip small { color:#345; opacity:0.8; font-weight:700; }

        /* Values Row (reuse chi-siamo-card for dark mode) */
        .about-values {
            background: #fff;
            border: 1px solid #E6EEF9;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,67,164,0.06);
            padding: 1rem 1rem 0 1rem;
            margin-top: 2rem;
        }

        .about-value-item {
            display: grid;
            grid-template-columns: 48px 1fr;
            gap: 1rem;
            align-items: start;
            padding: 1rem;
            border-radius: 12px;
        }

        .about-value-item + .about-value-item { border-top: 1px dashed #DFE9F7; }

        .about-badge {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: linear-gradient(140deg,#F3F8FF 60%,#EAF2FF 100%);
            border: 1px solid #D6E6FF;
            font-size: 1.25rem;
        }

        .about-value-title { color: var(--dark-blue); font-weight: 900; font-size: 1.05rem; margin-bottom: 0.25rem; }
        .about-value-text { color: var(--text-gray); line-height: 1.75; }

        /* Credits Section */
        .credits-wrap { max-width: 1100px; margin: 0 auto; }
        .credits-hero {
            background: linear-gradient(180deg, #F7FAFF 0%, #FFFFFF 55%);
            border: 1px solid #E8F0FB;
            box-shadow: 0 10px 28px rgba(0,67,164,0.08);
            border-radius: 20px;
            padding: 1.6rem;
            margin-bottom: 1.4rem;
        }
        .credits-header { display:grid; grid-template-columns: 120px 1fr; gap:1.2rem; align-items:center; }
        .credits-avatar { width: 120px; height: 120px; border-radius: 16px; overflow:hidden; border:1px solid #D6E6FF; background:#F6FAFF; box-shadow:0 6px 18px rgba(0,67,164,0.08); }
        .credits-avatar img { width:100%; height:100%; object-fit: cover; display:block; }
        .credits-overline { display:inline-flex; align-items:center; gap:0.5rem; padding:0.32rem 0.7rem; border-radius:999px; font-weight:800; letter-spacing:0.6px; color:var(--primary-blue); background:#F1F6FF; border:1px solid #E3EEFF; margin-bottom:0.35rem; }
        .credits-title { color: var(--dark-blue); font-size: 1.9rem; font-weight: 900; letter-spacing: -0.5px; }
        .credits-sub { color: var(--text-gray); margin-top:0.15rem; }
        .credits-metrics { display:flex; flex-wrap:wrap; gap:0.5rem; margin-top:0.6rem; }
        .metric { background:#fff; border:1px dashed #DFE9F7; border-radius:12px; padding:0.4rem 0.65rem; font-weight:800; color:#345; }
        .credits-actions { display:flex; gap:0.5rem; margin-top:0.7rem; }
        .credits-link { display:inline-flex; align-items:center; gap:0.4rem; text-decoration:none; font-weight:800; color:var(--primary-blue); padding:0.5rem 0.85rem; border:1px solid #E3EEFF; border-radius:10px; background:#F1F6FF; }
        .credits-grid { display:grid; grid-template-columns: 1fr; gap:1.5rem; margin-top:1rem; }
        .credits-card { background: white; border: 1px solid #E6EEF9; border-radius: 16px; padding: 1.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .credits-card h3 { color: var(--dark-blue); font-size: 1.2rem; margin: 0 0 1rem 0; font-weight: 700; }
        .skill-chips { display:flex; flex-wrap:wrap; gap:0.45rem; }
        .skill-chip { background:#F6FAFF; color:var(--primary-blue); border:1px solid #E3EEFF; border-radius:999px; padding:0.4rem 0.75rem; font-weight:800; font-size:0.85rem; }
        /* Tech Grid */
        .tech-grid { display:flex; gap:1rem; justify-content:center; align-items:center; flex-wrap:nowrap; overflow-x:auto; padding:1rem 0; }
        .tech-item { background: white; border: 1px solid #E6EEF9; border-radius: 16px; padding: 1rem; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.6rem; transition: all .3s ease; box-shadow: 0 4px 20px rgba(0,0,0,0.06); flex-shrink: 0; min-width: 100px; }
        .tech-item:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(0,67,164,0.15); }
        .tech-item span { font-weight: 700; color: var(--text-dark); font-size: 0.9rem; }
        .tech-icon { width:42px; height:42px; }
        .credits-cta { background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue)); color:#fff; padding:1rem 1.2rem; border-radius:14px; display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-top:1rem; }
        .credits-cta a { color:#fff; text-decoration:none; font-weight:800; background:rgba(255,255,255,0.15); padding:0.55rem 0.9rem; border-radius:10px; border:1px solid rgba(255,255,255,0.35); }
        
        /* Projects List */
        .projects-list { display:flex; flex-direction:column; gap:1rem; }
        .project-item { display: flex; align-items: flex-start; gap: 1rem; padding: 1rem; background: white; border: 1px solid #E6EEF9; border-radius: 12px; transition: all .3s ease; box-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .project-item:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(0,67,164,0.15); }
        .project-icon { font-size: 1.8rem; flex-shrink: 0; margin-top: 0.2rem; }
        .project-info { flex: 1; }
        .project-info h4 { color: var(--dark-blue); font-size: 1rem; margin: 0 0 0.4rem 0; font-weight: 700; }
        .project-info p { color: var(--text-gray); font-size: 0.9rem; margin: 0 0 0.6rem 0; line-height: 1.4; }
        .project-tags { display:flex; flex-wrap:wrap; gap:0.4rem; }
        .project-tag { background:#F6FAFF; color:var(--primary-blue); border:1px solid #E3EEFF; border-radius:999px; padding:0.2rem 0.6rem; font-weight:700; font-size:0.75rem; }
        
        /* Certifications Grid */
        .certifications-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:0.8rem; }
        .cert-item { display: flex; align-items: center; gap: 0.8rem; padding: 0.8rem; background: white; border: 1px solid #E6EEF9; border-radius: 10px; transition: all .3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
        .cert-item:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,67,164,0.15); }
        .cert-icon { font-size: 1.4rem; flex-shrink: 0; }
        .cert-info { flex: 1; }
        .cert-info h4 { color: var(--dark-blue); font-size: 0.9rem; margin: 0 0 0.2rem 0; font-weight: 700; }
        .cert-info p { color: var(--text-gray); font-size: 0.8rem; margin: 0; }
        /* System Status Section - Modern Design */
        .system-status-hero {
            text-align: center;
            margin-bottom: 4rem;
            padding: 3rem 0;
        }

        .status-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .status-icon {
            font-size: 4rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .status-title-section h1 {
            font-size: 3.5rem;
            color: var(--dark-blue);
            font-weight: 900;
            margin-bottom: 1rem;
            letter-spacing: -1px;
        }

        .status-subtitle {
            font-size: 1.3rem;
            color: var(--text-gray);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .system-overview {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .version-info-card, .system-health-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid #E5E7EB;
        }

        .version-header, .health-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .version-icon, .health-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--light-blue), #E6F0FF);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .version-header h3, .health-header h3 {
            font-size: 1.5rem;
            color: var(--dark-blue);
            font-weight: 800;
            margin: 0;
        }

        .version-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .version-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid #F3F4F6;
        }

        .version-item:last-child {
            border-bottom: none;
        }

        .version-label {
            font-weight: 600;
            color: var(--text-gray);
        }

        .version-value {
            font-weight: 700;
            color: var(--dark-blue);
        }

        .version-value.production {
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .health-status {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .health-indicator {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .health-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10B981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .health-text {
            font-weight: 700;
            color: #10B981;
            font-size: 1.1rem;
        }

        .health-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .metric {
            text-align: center;
            padding: 1rem;
            background: #F8FAFF;
            border-radius: 12px;
        }

        .metric-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark-blue);
            margin-bottom: 0.3rem;
        }

        .metric-label {
            font-size: 0.9rem;
            color: var(--text-gray);
            font-weight: 600;
        }

        .services-status-container {
            margin-bottom: 3rem;
        }

        .services-title {
            font-size: 2rem;
            color: var(--dark-blue);
            font-weight: 800;
            margin-bottom: 2rem;
            text-align: center;
        }

        .services-list {
            background: white;
            border-radius: 16px;
            padding: 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #E5E7EB;
            overflow: hidden;
        }

        .service-item {
            display: flex;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #F3F4F6;
            transition: all 0.3s ease;
        }

        .service-item:last-child {
            border-bottom: none;
        }

        .service-item:hover {
            background: #F8FAFF;
        }

        .service-item.operational {
            border-left: 4px solid #10B981;
        }

        .service-item.maintenance {
            border-left: 4px solid #F59E0B;
        }

        .service-item.down {
            border-left: 4px solid #EF4444;
        }

        .service-item.down:hover {
            background: #FEF2F2;
        }

        .service-status-indicator {
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: relative;
        }

        .status-dot.operational {
            background: #10B981;
            animation: pulse 2s infinite;
        }

        .status-dot.maintenance {
            background: #F59E0B;
        }

        .status-dot.down {
            background: #EF4444;
        }

        .service-content {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .service-main {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 1;
        }

        .service-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--light-blue), #E6F0FF);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .service-info h3 {
            font-size: 1.1rem;
            color: var(--dark-blue);
            font-weight: 700;
            margin: 0 0 0.2rem 0;
        }

        .service-info p {
            font-size: 0.9rem;
            color: var(--text-gray);
            margin: 0;
        }

        .service-metrics {
            display: flex;
            gap: 2rem;
            flex-shrink: 0;
        }

        .metric {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
        }

        .metric .metric-label {
            font-size: 0.75rem;
            color: var(--text-gray);
            font-weight: 600;
            text-align: center;
            margin-bottom: 0.2rem;
        }

        .metric .metric-value {
            font-size: 1rem;
            color: var(--dark-blue);
            font-weight: 700;
            text-align: center;
        }

        .system-footer {
            background: #F8FAFF;
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
        }

        .last-update p {
            margin: 0.5rem 0;
            color: var(--text-gray);
        }

        .update-note {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Modern Services Design */
        .modern-services-container {
            margin-bottom: 4rem;
        }

        .services-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #F8FAFF 0%, #FFFFFF 100%);
            border-radius: 20px;
            border: 1px solid #E5E7EB;
        }

        .services-title-section h2 {
            font-size: 2.5rem;
            color: var(--dark-blue);
            font-weight: 900;
            margin-bottom: 0.5rem;
            letter-spacing: -1px;
        }

        .services-title-section p {
            font-size: 1.1rem;
            color: var(--text-gray);
            margin: 0;
        }

        .services-overview {
            display: flex;
            gap: 2rem;
        }

        .overview-item {
            text-align: center;
            padding: 1rem 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: 1px solid #E5E7EB;
        }

        .overview-number {
            display: block;
            font-size: 2rem;
            font-weight: 900;
            color: var(--primary-blue);
            margin-bottom: 0.3rem;
        }

        .overview-label {
            font-size: 0.9rem;
            color: var(--text-gray);
            font-weight: 600;
        }

        .modern-services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .modern-service-card {
            background: white;
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid #E5E7EB;
            transition: all 0.4s ease;
            overflow: hidden;
            position: relative;
        }

        .modern-service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0,67,164,0.15);
        }

        .modern-service-card.operational {
            border-left: 4px solid #10B981;
        }

        .modern-service-card.maintenance {
            border-left: 4px solid #F59E0B;
        }

        .modern-service-card.down {
            border-left: 4px solid #EF4444;
        }

        .service-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 2rem 1rem 2rem;
            background: linear-gradient(135deg, #F8FAFF 0%, #FFFFFF 100%);
        }

        .service-icon-modern {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .service-icon-modern svg {
            width: 24px;
            height: 24px;
        }

        .service-status-modern {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
        }

        .service-status-modern.operational {
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
        }

        .service-status-modern.maintenance {
            background: linear-gradient(135deg, #F59E0B, #D97706);
            color: white;
        }

        .service-status-modern.down {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            color: white;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: pulse 2s infinite;
        }

        .service-card-body {
            padding: 0 2rem 2rem 2rem;
        }

        .service-card-body h3 {
            font-size: 1.3rem;
            color: var(--dark-blue);
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .service-card-body p {
            color: var(--text-gray);
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .service-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .stat-item {
            background: #F8FAFF;
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid #E5E7EB;
        }

        .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary-blue);
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-gray);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        @media (max-width: 768px) {
            .services-header {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }

            .services-overview {
                justify-content: center;
            }

            .modern-services-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .service-stats {
                grid-template-columns: 1fr;
            }
        }

        /* Admin Dashboard Styles */
        .admin-hero {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }

        .admin-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }

        .admin-icon {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .admin-title-section h1 {
            font-size: 2.5rem;
            color: var(--dark-blue);
            font-weight: 900;
            margin-bottom: 0.5rem;
        }

        .admin-subtitle {
            font-size: 1.1rem;
            color: var(--text-gray);
        }

        .admin-sections {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .admin-section {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #E5E7EB;
        }

        .admin-section h2 {
            font-size: 1.5rem;
            color: var(--dark-blue);
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .admin-section p {
            color: var(--text-gray);
            margin-bottom: 2rem;
        }

        .admin-controls {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 700;
            color: var(--dark-blue);
            font-size: 0.9rem;
        }

        .control-group select {
            padding: 0.8rem 1rem;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            color: var(--text-dark);
            transition: all 0.3s ease;
        }

        .control-group select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .control-group select option {
            padding: 0.5rem;
        }

        .admin-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .admin-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .admin-btn.primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: white;
        }

        .admin-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(37, 99, 235, 0.3);
        }

        .admin-btn.secondary {
            background: white;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .admin-btn.secondary:hover {
            background: var(--primary-blue);
            color: white;
            transform: translateY(-2px);
        }

        .admin-btn.danger {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            color: white;
        }

        .admin-btn.danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
        }

        @media (max-width: 768px) {
            .admin-sections {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .admin-header {
                flex-direction: column;
                gap: 1rem;
            }

            .admin-title-section h1 {
                font-size: 2rem;
            }

            .admin-actions {
                flex-direction: column;
                align-items: center;
            }

            .admin-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 768px) {
            .system-overview {
                grid-template-columns: 1fr;
            }

            .status-header {
                flex-direction: column;
                gap: 1rem;
            }

            .status-title-section h1 {
                font-size: 2.5rem;
            }

            .health-metrics {
                grid-template-columns: 1fr;
            }

            .service-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .service-metrics {
                align-self: flex-end;
                gap: 1.5rem;
            }

            .metric {
                min-width: 50px;
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .nav-menu a {
                padding: 0.75rem 0.8rem;
                font-size: 0.8rem;
            }

            .timeline-line {
                left: 20px;
            }

            .timeline-item {
                padding-left: 70px;
            }

            .timeline-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-toggle {
                display: block;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.2rem;
            }

            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .section-title {
                font-size: 2rem;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }

            .changelog-grid {
                grid-template-columns: 1fr;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
            }

            .chat-widget {
                bottom: 80px;
                right: 20px;
            }

            .chat-box {
                bottom: 150px;
                right: 20px;
                width: calc(100% - 40px);
            }

            .toast-container {
                right: 10px;
                left: 10px;
            }

            .toast {
                min-width: auto;
            }

            .dark-mode-toggle,
            .search-container,
            .language-selector {
                display: none;
            }

            .modal-content {
                padding: 2rem 1.5rem;
            }

            .cookie-content {
                flex-direction: column;
            }

            .newsletter-form {
                flex-direction: column;
            }
        }

        /* Tipologie disponibili */
        .prenota-tipi-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
          gap: 2.5rem;
          margin: 4rem 0 0 0;
        }
        .prenota-tipo-card {
          background: #fafdff;
          border: 1.5px solid #B8C5D1;
          border-radius: 18px;
          box-shadow: 0 8px 32px 0 rgba(0,51,102,0.12);
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 2.2rem 1.2rem 2.1rem 1.2rem;
          text-align: center;
          transition: box-shadow 0.2s;
          min-height: 285px;
          position: relative;
        }
        .prenota-tipo-card:hover {
          box-shadow: 0 16px 40px 0 rgba(0,37,63,0.15);
          border-color: #90caf9;
        }
        .tipo-icon {
          background: linear-gradient(140deg,#f0f5ff 60%,#e6f0ff 100%);
          border-radius: 50%;
          width: 70px;
          height: 70px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 1.35rem auto;
          border: 2.5px solid #b1cae6;
          box-shadow:0 2px 7px rgba(0,67,164,0.07);
          font-size: 2.4rem;
          color: #003366;
          font-weight: 800;
        }
        .prenota-tipo-card h3 {
          margin-bottom: 1rem;
          font-size: 1.15rem;
          font-weight: 800;
          color: #06286f;
        }
        .prenota-tipo-card p{
          color:#415164;
          font-size:1rem;
          margin:0;
        }

        /* Tipologie disponibili */
        /* Header Sezione Prenotazioni */
        .prenota-header-section {
            text-align: center;
            margin-bottom: 2rem;
            margin-top: -2rem;
        }
        
        .prenota-header-section h1 {
            font-size: 2.5rem;
            color: var(--dark-blue);
            margin-bottom: 1rem;
            font-weight: 800;
        }
        
        .prenota-subtitle {
            font-size: 1.1rem;
            color: var(--text-gray);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .prenota-separator {
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
            margin: 2rem auto;
            border-radius: 1px;
        }
        
        .prenota-header-section h2 {
            font-size: 1.8rem;
            color: var(--dark-blue);
            margin-bottom: 2rem;
            font-weight: 700;
        }
        
        .scroll-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 1rem;
            border-radius: 12px;
        }
        
        .scroll-arrow:hover {
            background: rgba(0,67,164,0.05);
            transform: translateY(-2px);
        }
        
        .arrow-icon {
            font-size: 2rem;
            color: var(--primary-blue);
            animation: bounce 2s infinite;
        }
        
        .scroll-arrow span {
            font-size: 0.9rem;
            color: var(--text-gray);
            font-weight: 500;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .prenota-servizi-section {
            margin-bottom: 4rem;
        }
        
        .prenota-servizi-section h2 {
            text-align: center;
            font-size: 2.5rem;
            color: var(--dark-blue);
            margin-bottom: 3rem;
        }
        
        .servizi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }
        
        .servizio-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 280px;
        }
        
        .servizio-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .servizio-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            display: block;
        }
        
        .servizio-card h3 {
            font-size: 1.2rem;
            color: var(--dark-blue);
            margin-bottom: 1rem;
            font-weight: 700;
            line-height: 1.3;
        }
        
        .servizio-card p {
            color: var(--text-gray);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .servizio-badge {
            background: var(--success-green);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-top: auto;
        }
        
        .prenota-modulo-section {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 4rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .modulo-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .modulo-header h2 {
            font-size: 2.2rem;
            color: var(--dark-blue);
            margin-bottom: 1rem;
        }
        
        .google-form-wrapper {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1rem;
        }
        
        .prenota-info-section {
            margin-bottom: 4rem;
        }
        
        .prenota-info-section h2 {
            text-align: center;
            font-size: 2.5rem;
            color: var(--dark-blue);
            margin-bottom: 3rem;
        }
        
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .info-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary-blue);
        }
        
        .info-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .info-card h3 {
            font-size: 1.3rem;
            color: var(--dark-blue);
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .info-card ul {
            list-style: none;
            padding: 0;
        }
        
        .info-card li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f0f0f0;
            color: var(--text-gray);
        }
        
        .info-card li:last-child {
            border-bottom: none;
        }
        
        .prenota-faq-section {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .prenota-faq-section h2 {
            text-align: center;
            font-size: 2.5rem;
            color: var(--dark-blue);
            margin-bottom: 3rem;
        }
        
        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid #B8C5D1;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8fafc;
            font-weight: 600;
            color: var(--dark-blue);
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #e2e8f0;
        }
        
        .faq-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 1.5rem;
        }
        
        .faq-item.active .faq-answer {
            max-height: 200px;
            padding: 0 1.5rem 1.5rem;
        }
        
        .faq-answer p {
            color: var(--text-gray);
            line-height: 1.7;
            margin: 0;
        }
        
        @media (max-width: 768px) {
            .servizi-grid {
                grid-template-columns: 1fr;
            }
            
            .info-cards {
                grid-template-columns: 1fr;
            }
            
            .prenota-header-section h1 {
                font-size: 2rem;
            }
            
            /* Chi Siamo Responsive */
            .about-grid { grid-template-columns: 1fr; }
            .about-hero { padding: 1.6rem; }
            .about-hero h2 { font-size: 1.7rem; }
            .about-stats { justify-content:flex-start; }
            .about-value-item { grid-template-columns: 40px 1fr; gap: 0.8rem; }
            .about-badge { width: 40px; height: 40px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">×</button>
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <div class="modal-meta" id="modalMeta"></div>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-share">
                <h4>Condividi questa notizia</h4>
                <div class="share-buttons">
                    <button class="share-btn facebook" onclick="shareOn('facebook')">
                        📘 Facebook
                    </button>
                    <button class="share-btn twitter" onclick="shareOn('twitter')">
                        🐦 Twitter
                    </button>
                    <button class="share-btn whatsapp" onclick="shareOn('whatsapp')">
                        💬 WhatsApp
                    </button>
                    <button class="share-btn pdf" onclick="exportToPDF()">
                        📄 Esporta PDF
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- RIMOSSO: Live Chat Widget e Box -->
    <!--
    <div class="chat-widget" onclick="toggleChat()">
        <div class="chat-widget-icon">💬</div>
    </div>
    <div class="chat-box" id="chatBox">
        <div class="chat-header">
            <h3>💬 Assistenza Online</h3>
            <button class="chat-close" onclick="toggleChat()">×</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="chat-message bot">
                <strong>Assistente Virtuale:</strong><br>
                Buongiorno! Come posso aiutarti oggi?
            </div>
        </div>
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="chatInput" placeholder="Scrivi un messaggio..." onkeypress="handleChatEnter(event)">
            <button class="chat-send" onclick="sendChatMessage()">Invia</button>
        </div>
    </div>
    -->

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
        ↑
    </button>

    <!-- Cookie Banner -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="cookie-content">
            <div class="cookie-text">
                <h4>🍪 Questo sito utilizza i cookie</h4>
                <p>Utilizziamo i cookie per personalizzare contenuti e migliorare la tua esperienza. Continuando la navigazione accetti il loro utilizzo.</p>
            </div>
            <div class="cookie-buttons">
                <button class="cookie-btn cookie-accept" onclick="acceptCookies()">
                    Accetta Tutti
                </button>
                <button class="cookie-btn cookie-settings" onclick="openCookieSettings()">
                    Personalizza
                </button>
            </div>
        </div>
    </div>

    <!-- RIMOSSO: News Ticker (arancione) -->
    <!--
    <div class="news-ticker">
        <div class="ticker-content">
            <span class="ticker-item">🚨 ATTENZIONE: Nuova truffa telefonica in circolazione - Non fornire mai dati personali</span>
            <span class="ticker-item">📢 Apertura straordinaria uffici passaporti ogni sabato mattina</span>
            <span class="ticker-item">🎓 Nuovo bando concorso per 1.500 allievi agenti - Scadenza 31/12/2025</span>
            <span class="ticker-item">🚗 Operazione Strade Sicure: oltre 15.000 controlli effettuati</span>
            <!-- Duplicato per loop infinito -->
            <!--
            <span class="ticker-item">🚨 ATTENZIONE: Nuova truffa telefonica in circolazione - Non fornire mai dati personali</span>
            <span class="ticker-item">📢 Apertura straordinaria uffici passaporti ogni sabato mattina</span>
            <span class="ticker-item">🎓 Nuovo bando concorso per 1.500 allievi agenti - Scadenza 31/12/2025</span>
            <span class="ticker-item">🚗 Operazione Strade Sicure: oltre 15.000 controlli effettuati</span>
        </div>
    </div>
    -->

    <!-- RIMOSSO: Emergency Banner (rossa) -->
    <!--
    <div class="emergency-banner">
        🚨 EMERGENZA 113 - Disponibile 24/7
    </div>
    -->

    <!-- Navbar -->
    <nav class="navbar" role="navigation" aria-label="Navigazione principale">
        <div class="nav-container">
            <a href="#" onclick="navigateTo('home'); return false;" class="nav-logo" aria-label="Vai alla home">
                <img src="https://i.imgur.com/tkb2tfQ.png" alt="Logo Polizia di Stato">
                <div class="nav-logo-text">
                    <h1>Polizia di Stato</h1>
                    <p>Repubblica Italiana</p>
                </div>
            </a>
            <div class="nav-right">
                <ul class="nav-menu" id="navMenu">
                    <li>
                        <a href="#" onclick="navigateTo('home'); return false;" data-page="home" aria-current="false">
                            <span class="icon">🏠</span>
                            <span class="nav-label">Home</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('notizie'); return false;" data-page="notizie" aria-current="false">
                            <span class="icon">📰</span>
                            <span class="nav-label">Notizie</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('chi-siamo'); return false;" data-page="chi-siamo" aria-current="false">
                            <span class="icon">💬</span>
                            <span class="nav-label">Chi Siamo</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('veicoli'); return false;" data-page="veicoli" aria-current="false">
                            <span class="icon">🚗</span>
                            <span class="nav-label">Veicoli</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('qualifiche'); return false;" data-page="qualifiche" aria-current="false">
                            <span class="icon">🎖️</span>
                            <span class="nav-label">Qualifiche</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('prenota'); return false;" data-page="prenota" aria-current="false">
                            <span class="icon">📋</span>
                            <span class="nav-label">Prenota</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('concorso'); return false;" data-page="concorso" aria-current="false">
                            <span class="icon">🎓</span>
                            <span class="nav-label">Concorso</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('aggiornamenti'); return false;" data-page="aggiornamenti" aria-current="false">
                            <span class="icon">⚡</span>
                            <span class="nav-label">STATUS</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="navigateTo('login'); return false;" class="login-link" data-page="login" aria-current="false">
                            <span class="icon">#️⃣</span>
                            <span class="nav-label">CREDITI</span>
                        </a>
                    </li>
                </ul>
                
                <!-- Language Selector -->
                <div class="language-selector">
                    <button class="language-btn" onclick="toggleLanguage()">
                        🌐 IT
                    </button>
                    <div class="language-dropdown" id="languageDropdown">
                        <div class="language-option" onclick="changeLanguage('it')">
                            <span>🇮🇹</span> Italiano
                        </div>
                        <div class="language-option" onclick="changeLanguage('en')">
                            <span>🇬🇧</span> English
                        </div>
                        <div class="language-option" onclick="changeLanguage('fr')">
                            <span>🇫🇷</span> Français
                        </div>
                        <div class="language-option" onclick="changeLanguage('de')">
                            <span>🇩🇪</span> Deutsch
                        </div>
                    </div>
                </div>

                <!-- Search Container -->
                <div class="search-container">
                    <button class="search-toggle" onclick="toggleSearch()">🔍</button>
                    <div class="search-box" id="searchBox">
                        <input type="text" class="search-input" placeholder="Cerca servizi, notizie..." onkeyup="handleSearch(event)">
                    </div>
                </div>

                <!-- Dark Mode Toggle -->
                <button class="dark-mode-toggle" onclick="toggleDarkMode()" title="Attiva/Disattiva modalità scura">
                    🌙
                </button>

                <button class="mobile-toggle" id="mobileToggle" onclick="toggleMobileMenu()" aria-expanded="false" aria-controls="navMenuMobile" aria-label="Apri menu">☰</button>
            </div>
        </div>
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>
        <aside class="sidebar" id="navSidebar" aria-hidden="true" aria-label="Menu mobile">
            <div class="sidebar-header">
                <a class="sidebar-brand" href="#" onclick="navigateTo('home'); return false;">
                    <img src="https://i.imgur.com/SSlUNBo.png?v=5" alt="Logo Polizia di Stato" loading="eager" decoding="sync" referrerpolicy="no-referrer" width="180" height="64">
                    <strong>Polizia di Stato</strong>
                </a>
                <button class="sidebar-close" onclick="closeSidebar()" aria-label="Chiudi menu">✕</button>
            </div>
            
            <div class="sidebar-content">
                <div class="sidebar-section">
                    <h3>🏠 Navigazione</h3>
                    <nav class="sidebar-nav">
                        <a href="#" onclick="navigateTo('home'); return false;">
                            <span>🏠</span> Home
                        </a>
                        <a href="#" onclick="navigateTo('notizie'); return false;">
                            <span>📰</span> Notizie
                        </a>
                        <a href="#" onclick="navigateTo('chi-siamo'); return false;">
                            <span>💬</span> Chi Siamo
                        </a>
                        <a href="#" onclick="navigateTo('prenota'); return false;">
                            <span>🔰</span> Servizi
                        </a>
                        <a href="#" onclick="navigateTo('veicoli'); return false;">
                            <span>🚗</span> Veicoli
                        </a>
                    </nav>
                </div>
                
                <div class="sidebar-section">
                    <h3>#️⃣ CREDITI</h3>
                </div>
                
                
            </div>
            
            <div class="sidebar-footer">
                <p>Polizia di Stato - Repubblica Italiana<br>
                <strong>Emergenza:</strong> 113 | <strong>Email:</strong> info@poliziadistato.it</p>
            </div>
        </aside>
    </nav>

    <!-- Main Content Area -->
    <div id="mainContent"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Polizia di Stato</h4>
                <p style="opacity: 0.9; font-size: 0.95rem; line-height: 1.6;">
                    Al servizio dei cittadini italiani dal 1852. La nostra missione è garantire sicurezza, legalità e giustizia su tutto il territorio nazionale.
                </p>
                <div class="footer-social">
                    <a href="#">📘</a>
                    <a href="#">🐦</a>
                    <a href="#">📷</a>
                    <a href="#">▶️</a>
                </div>
                
                <!-- Visitor Counter -->
                <div class="visitor-counter">
                    <span>👥</span>
                    <span>Visitatori oggi: <strong id="visitorCount">0</strong></span>
                </div>
            </div>

            <div class="footer-section">
                <h4>Servizi</h4>
                <ul>
                    <li><a href="#" onclick="navigateTo('prenota'); return false;">Prenota Appuntamento</a></li>
                    <li><a href="#" onclick="navigateTo('veicoli'); return false;">Veicoli della Polizia</a></li>
                    <li><a href="#" onclick="navigateTo('qualifiche'); return false;">Qualifiche e Gradi</a></li>
                    <li><a href="#" onclick="navigateTo('concorso'); return false;">Concorsi Pubblici</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Informazioni</h4>
                <ul>
                    <li><a href="#" onclick="navigateTo('notizie'); return false;">Notizie e Comunicati</a></li>
                    <li><a href="#" onclick="navigateTo('aggiornamenti'); return false;">Aggiornamenti Sistema</a></li>
                    <li><a href="#" onclick="navigateTo('chi-siamo'); return false;">Chi Siamo</a></li>
                    <li><a href="#" onclick="navigateTo('faq'); return false;">FAQ</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Contatti</h4>
                <ul style="opacity: 0.9; font-size: 0.95rem;">
                    <li style="margin-bottom: 1rem;">📞 <strong>Emergenza:</strong> 113</li>
                    <li style="margin-bottom: 1rem;">📧 <strong>Email:</strong> info@poliziadistato.it</li>
                    <li>🏛️ <strong>Sede:</strong><br/>Via del Viminale, 1<br/>00184 Roma, Italia</li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p style="font-size: 0.95rem;">&copy; 2025 Polizia di Stato - Repubblica Italiana. Tutti i diritti riservati.</p>
        </div>
    </footer>

    <script>
// Global State
let currentPage = 'home';
let visitorCount = Math.floor(Math.random() * 5000) + 1000;
let currentLanguage = 'it';
let currentFilter = 'tutte';
let currentTestimonial = 0;
let carouselIndex = 0;

// Data
const notizie = [
    {
        id: 1,
        titolo: "La Polizia di Stato è in lutto per la scomparsa di Derek Morgan",
        categoria: "LUTTO",
        contenuto: "Oggi, 11 maggio 2025, la Polizia di Stato piange la scomparsa del nostro caro collega Derek Morgan. Dopo aver lottato con tutte le sue forze fino all'ultimo momento, purtroppo non ce l'ha fatta. Con la sua perdita, la Polizia non perse solo un valido agente, ma un amico, un fratello.",
        contenutoCompleto: "Oggi, 11 maggio 2025, la Polizia di Stato piange la scomparsa del nostro caro collega Derek Morgan. Dopo aver lottato con tutte le sue forze fino all'ultimo momento, purtroppo non ce l'ha fatta. Con la sua perdita, la Polizia non perse solo un valido agente, ma un amico, un fratello, una presenza sempre pronta a sostenere e a combattere ogni difficoltà con impegno e determinazione. Derek Morgan è stato un esempio di dedizione e professionalità, lasciando un segno indelebile in tutti coloro che hanno avuto l'onore di lavorare al suo fianco. Alla sua famiglia e ai suoi cari va il nostro più profondo cordoglio e la vicinanza di tutto il Corpo. La sua memoria continuerà a vivere nei cuori di chi lo ha conosciuto e stimato.",
        data: "11 Maggio 2025",
        autore: "Polizia di Stato",
        priorita: "urgente",
        tipo: "lutto"
    },
    {
        id: 2,
        titolo: "Cambio Dirigenti in Questura di Roma",
        categoria: "NOMINA",
        contenuto: "Oggi, 6 Luglio 2024 il Vice Questore Marco Ferri è stato nominato Questore della Questura di Roma col grado di Dirigente Generale. Il Dirigente Generale della Polizia di Stato, Marco Ferri, Si è laureato in Giurisprudenza All'università di Roma.",
        contenutoCompleto: "Oggi, 6 Luglio 2024 il Vice Questore Marco Ferri è stato nominato Questore della Questura di Roma col grado di Dirigente Generale. Il Dirigente Generale della Polizia di Stato, Marco Ferri, Si è laureato in Giurisprudenza All'università di Roma. Nel 2021 ha partecipato al 80 concorso per commissari, Vincendo il concorso nel 2023. Successivamente è stato trasferito a Roma con l'incarico di Dirigente generale di Pubblica Sicurezza.",
        data: "6 Luglio 2024",
        autore: "Ufficio Stampa",
        priorita: "normale",
        tipo: "nomina"
    },
    {
        id: 3,
        titolo: "Richiesta Feste",
        categoria: "COMUNICATO",
        contenuto: "Si ricorda a tutta la cittadinanza che, ai promotori di riunioni in luogo pubblico aperto al pubblico, è obbligatorio avvisare il Questore (Dirigente Generale Marco Ferri) della citta di Roma con almeno 3 Giorni di preavviso.",
        contenutoCompleto: "Si ricorda a tutta la cittadinanza che, ai promotori di riunioni in luogo pubblico aperto al pubblico, è obbligatorio avvisare il Questore (Dirigente Generale Marco Ferri) della citta di Roma con almeno 3 Giorni di preavviso. Vedi disposizione art. 18 TULPS.",
        data: "Data corrente",
        autore: "Questura di Roma",
        priorita: "normale",
        tipo: "comunicato"
    }
];

const aggiornamenti = [
    {
        data: "8 Ottobre 2025",
        icona: "🚀",
        titolo: "Lancio Nuovo Sistema di Prenotazione Online",
        descrizione: "È stato implementato un nuovo sistema di prenotazione online completamente rinnovato con interfaccia moderna e funzionalità avanzate per facilitare l'accesso ai servizi della Polizia di Stato.",
        tags: ["Sistema", "Prenotazioni", "UX"]
    },
    {
        data: "5 Ottobre 2025",
        icona: "🔐",
        titolo: "Aggiornamento Sicurezza Portale",
        descrizione: "Implementati nuovi protocolli di sicurezza per l'area riservata con autenticazione a due fattori e crittografia avanzata dei dati sensibili per garantire la massima protezione.",
        tags: ["Sicurezza", "Privacy", "Autenticazione"]
    },
    {
        data: "1 Ottobre 2025",
        icona: "📱",
        titolo: "App Mobile Aggiornata alla Versione 3.0",
        descrizione: "Rilasciata la nuova versione dell'app mobile con design rinnovato, notifiche push migliorate e nuove funzionalità per segnalazioni rapide e tracking delle pratiche.",
        tags: ["Mobile", "App", "Notifiche"]
    },
    {
        data: "28 Settembre 2025",
        icona: "💾",
        titolo: "Migrazione Database Completata",
        descrizione: "Completata con successo la migrazione del database su una nuova infrastruttura cloud più veloce e affidabile, con tempi di risposta ridotti del 40%.",
        tags: ["Database", "Performance", "Cloud"]
    },
    {
        data: "20 Settembre 2025",
        icona: "🎨",
        titolo: "Restyling Interfaccia Utente",
        descrizione: "Implementato un nuovo design system moderno e accessibile conforme alle linee guida WCAG 2.1 per garantire l'usabilità a tutti i cittadini.",
        tags: ["Design", "Accessibilità", "UI/UX"]
    }
];

const changelog = [
    {
        versione: "v3.2.0",
        data: "8 Ottobre 2025",
        modifiche: [
            "Nuovo sistema di prenotazione appuntamenti",
            "Migliorata velocità caricamento pagine del 35%",
            "Aggiunte notifiche push per aggiornamenti importanti",
            "Implementato dark mode per l'area riservata",
            "Corretti bug minori sull'interfaccia mobile"
        ]
    },
    {
        versione: "v3.1.5",
        data: "1 Ottobre 2025",
        modifiche: [
            "Aggiornati protocolli di sicurezza",
            "Ottimizzazione SEO per tutti i contenuti",
            "Nuovo sistema di ricerca intelligente",
            "Migliorata accessibilità WCAG 2.1 AA"
        ]
    },
    {
        versione: "v3.1.0",
        data: "20 Settembre 2025",
        modifiche: [
            "Restyling completo interfaccia utente",
            "Integrazione nuovo design system",
            "Migliorata esperienza mobile",
            "Aggiunti filtri avanzati per le notizie"
        ]
    }
];

const qualifiche = [
    { nome: "⭐ Dirigente Generale", descrizione: "Massima autorità operativa della Polizia di Stato" },
    { nome: "👮 Commissario Capo", descrizione: "Ruolo di coordinamento e gestione operativa" },
    { nome: "🎖️ Ispettore Superiore", descrizione: "Gestione investigazioni complesse e coordinamento squadre" },
    { nome: "👤 Agente Scelto", descrizione: "Operativo sul territorio con esperienza consolidata" },
    { nome: "🆕 Agente in Prova", descrizione: "Fase di formazione iniziale e addestramento" },
    { nome: "📊 Vice Ispettore", descrizione: "Supporto operativo e supervisione attività" }
];

const veicoli = [
    { nome: "Alfa Romeo Giulia Veloce", tipo: "Auto di pattuglia", descrizione: "Veicolo sportivo ad alte prestazioni per inseguimenti e pattugliamento urbano", image: "https://i.imgur.com/PCzE4Se.png" },
    { nome: "Jeep Renegade 4x4", tipo: "SUV operativo", descrizione: "Mezzo versatile per terreni difficili e operazioni speciali" },
    { nome: "BMW R1250RT", tipo: "Moto Polizia Stradale", descrizione: "Motocicletta per pattugliamento rapido autostradale" },
    { nome: "Iveco Daily", tipo: "Cellulare", descrizione: "Trasporto sicuro persone fermate e detenuti" },
    { nome: "Mercedes Sprinter", tipo: "Unità Mobile", descrizione: "Centro di comando mobile per operazioni sul campo" },
    { nome: "Land Rover Defender", tipo: "Fuoristrada", descrizione: "Operazioni in zone impervie e montane" }
];

const linkUtili = [
    { nome: "Ministero dell'Interno", icon: "🏛️", desc: "Sito ufficiale", url: "#" },
    { nome: "Questure d'Italia", icon: "🗺️", desc: "Trova la tua questura", url: "#" },
    { nome: "App YouPol", icon: "📱", desc: "Segnalazioni rapide", url: "#" },
    { nome: "Commissariato Online", icon: "💻", desc: "Servizi digitali", url: "#" },
    { nome: "Polizia Scientifica", icon: "🔬", desc: "Investigazioni", url: "#" },
    { nome: "Polizia Stradale", icon: "🚦", desc: "Sicurezza stradale", url: "#" }
];

const faqData = [
    {
        question: "Come posso prenotare un appuntamento per il passaporto?",
        answer: "La prenotazione può essere effettuata esclusivamente online attraverso il portale dedicato. Seleziona la questura più vicina, scegli data e orario disponibili, e presenta la conferma al momento dell'appuntamento insieme ai documenti richiesti."
    },
    {
        question: "Quali documenti servono per fare una denuncia?",
        answer: "Per sporgere denuncia è necessario presentarsi presso qualsiasi commissariato o questura muniti di documento d'identità valido. È utile portare con sé eventuali prove o documentazione relativa al fatto da denunciare."
    },
    {
        question: "Come posso richiedere il certificato penale?",
        answer: "Il certificato penale può essere richiesto online tramite i servizi digitali o presso gli uffici della questura. La richiesta online è più veloce e consente di ricevere il certificato direttamente via email."
    },
    {
        question: "Cosa devo fare se ho perso i documenti?",
        answer: "In caso di smarrimento o furto di documenti, è necessario recarsi presso il commissariato più vicino per sporgere denuncia. Successivamente, si potrà procedere con la richiesta di duplicato presso gli uffici competenti."
    },
    {
        question: "Come posso partecipare ai concorsi della Polizia?",
        answer: "I bandi di concorso vengono pubblicati nella Gazzetta Ufficiale e sul nostro sito web. Per partecipare è necessario possedere i requisiti indicati nel bando e presentare domanda entro i termini stabiliti."
    },
    {
        question: "Posso segnalare un crimine in modo anonimo?",
        answer: "Sì, è possibile effettuare segnalazioni anonime attraverso l'app YouPol o contattando il numero verde dedicato. Tuttavia, per procedimenti formali potrebbe essere necessaria l'identità del denunciante."
    }
];

const testimonials = [
    {
        text: "Ho trovato grande professionalità e cortesia nel personale della Polizia di Stato. Hanno risolto il mio problema in tempi rapidissimi.",
        author: "Marco R.",
        role: "Cittadino - Roma",
        avatar: "M"
    },
    {
        text: "Grazie al nuovo sistema di prenotazione online ho potuto ottenere il mio passaporto senza lunghe attese. Servizio eccellente!",
        author: "Giulia T.",
        role: "Cittadina - Milano",
        avatar: "G"
    },
    {
        text: "L'app YouPol è fantastica! Ho potuto segnalare un problema nel mio quartiere e la risposta è stata immediata.",
        author: "Alessandro B.",
        role: "Cittadino - Napoli",
        avatar: "A"
    }
];

const videos = [
    {
        title: "Come Riconoscere le Truffe Online",
        description: "Guida pratica per proteggersi dalle truffe più comuni su internet",
        duration: "5:32"
    },
    {
        title: "La Polizia nelle Scuole 2025",
        description: "Reportage della giornata nazionale dedicata ai giovani",
        duration: "8:15"
    },
    {
        title: "Presentazione Nuovi Veicoli",
        description: "La nuova flotta di veicoli ad alte prestazioni",
        duration: "6:47"
    }
];

// Utility Functions
function showLoading() {
    document.getElementById('loadingOverlay').classList.add('active');
}

function hideLoading() {
    setTimeout(() => {
        document.getElementById('loadingOverlay').classList.remove('active');
    }, 300);
}

function showToast(message, type = 'success') {
    const container = document.getElementById('toastContainer');
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    
    const icons = {
        success: '✅',
        error: '❌',
        info: 'ℹ️'
    };
    
    toast.innerHTML = `
        <div class="toast-icon">${icons[type]}</div>
        <div class="toast-message">${message}</div>
        <button class="toast-close" onclick="this.parentElement.remove()">×</button>
    `;
    
    container.appendChild(toast);
    
    setTimeout(() => {
        toast.remove();
    }, 4000);
}

function updateScrollProgress() {
    const winScroll = document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    document.getElementById('scrollProgress').style.width = scrolled + '%';
}

function updateBackToTop() {
    const btn = document.getElementById('backToTop');
    if (window.pageYOffset > 300) {
        btn.classList.add('visible');
    } else {
        btn.classList.remove('visible');
    }
}

function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDark);
    const icon = document.querySelector('.dark-mode-toggle');
    icon.textContent = isDark ? '☀️' : '🌙';
    showToast(isDark ? 'Modalità scura attivata' : 'Modalità chiara attivata', 'info');
}

function toggleSearch() {
    const searchBox = document.getElementById('searchBox');
    searchBox.classList.toggle('active');
    if (searchBox.classList.contains('active')) {
        searchBox.querySelector('.search-input').focus();
    }
}

function handleSearch(event) {
    if (event.key === 'Enter') {
        const query = event.target.value;
        showToast(`Ricerca: "${query}" - Funzione in arrivo!`, 'info');
        toggleSearch();
    }
}

function updateVisitorCount() {
    visitorCount += Math.floor(Math.random() * 3);
    document.getElementById('visitorCount').textContent = visitorCount.toLocaleString();
}

function toggleLanguage() {
    const dropdown = document.getElementById('languageDropdown');
    dropdown.classList.toggle('active');
}

function changeLanguage(lang) {
    currentLanguage = lang;
    const langNames = {
        it: '🇮🇹 IT',
        en: '🇬🇧 EN',
        fr: '🇫🇷 FR',
        de: '🇩🇪 DE'
    };
    document.querySelector('.language-btn').innerHTML = langNames[lang];
    toggleLanguage();
    showToast(`Lingua cambiata: ${langNames[lang]}`, 'info');
}

function sendChatMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    
    if (message) {
        const messagesDiv = document.getElementById('chatMessages');
        messagesDiv.innerHTML += `
            <div class="chat-message">
                <strong>Tu:</strong><br>
                ${message}
            </div>
        `;
        
        input.value = '';
        
        // Risposta automatica
        setTimeout(() => {
            messagesDiv.innerHTML += `
                <div class="chat-message bot">
                    <strong>Assistente Virtuale:</strong><br>
                    Grazie per il tuo messaggio. Un operatore ti risponderà a breve. Per urgenze chiama il 113.
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }, 1000);
        
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
}

function acceptCookies() {
    localStorage.setItem('cookiesAccepted', 'true');
    document.getElementById('cookieBanner').classList.remove('active');
    showToast('Preferenze cookie salvate', 'success');
}

function openCookieSettings() {
    showToast('Impostazioni cookie - Funzione in arrivo!', 'info');
    acceptCookies();
}

function openModal(notiziaId) {
    const notizia = notizie.find(n => n.id === notiziaId);
    if (!notizia) return;
    
    document.getElementById('modalTitle').textContent = notizia.titolo;
    document.getElementById('modalMeta').innerHTML = `
        <span>📅 ${notizia.data}</span>
        <span>👤 ${notizia.autore}</span>
        <span class="badge badge-${notizia.priorita}">${notizia.categoria}</span>
    `;
    document.getElementById('modalBody').innerHTML = `<p style="line-height: 1.9; font-size: 1.05rem;">${notizia.contenutoCompleto}</p>`;
    document.getElementById('modalOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal(event) {
    if (!event || event.target.id === 'modalOverlay') {
        document.getElementById('modalOverlay').classList.remove('active');
        document.body.style.overflow = 'auto';
    }
}

function shareOn(platform) {
    const url = window.location.href;
    const text = document.getElementById('modalTitle').textContent;
    
    const urls = {
        facebook: `https://www.facebook.com/sharer/sharer.php?u=${url}`,
        twitter: `https://twitter.com/intent/tweet?url=${url}&text=${text}`,
        whatsapp: `https://wa.me/?text=${text} ${url}`
    };
    
    if (urls[platform]) {
        window.open(urls[platform], '_blank');
        showToast(`Condiviso su ${platform}!`, 'success');
    }
}

function exportToPDF() {
    showToast('Esportazione PDF - Funzione in arrivo!', 'info');
}

/* RIMOSSO: Funzioni live chat
function toggleChat() {
    const chatBox = document.getElementById('chatBox');
    chatBox.classList.toggle('active');
}

function sendChatMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    
    if (message) {
        const messagesDiv = document.getElementById('chatMessages');
        messagesDiv.innerHTML += `
            <div class="chat-message">
                <strong>Tu:</strong><br>
                ${message}
            </div>
        `;
        
        input.value = '';
        
        // Risposta automatica
        setTimeout(() => {
            messagesDiv.innerHTML += `
                <div class="chat-message bot">
                    <strong>Assistente Virtuale:</strong><br>
                    Grazie per il tuo messaggio. Un operatore ti risponderà a breve. Per urgenze chiama il 113.
                </div>
            `;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }, 1000);
        
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
}

function handleChatEnter(event) {
    if (event.key === 'Enter') {
        sendChatMessage();
    }
}
*/

/* RIMOSSO: Funzioni accessibilità (zoom caratteri e contrasto)
function decreaseFontSize() {
    document.body.classList.remove('font-large', 'font-xlarge');
    document.body.classList.add('font-small');
    showToast('Dimensione testo ridotta', 'info');
}

function resetFontSize() {
    document.body.classList.remove('font-small', 'font-large', 'font-xlarge');
    showToast('Dimensione testo normale', 'info');
}

function increaseFontSize() {
    document.body.classList.remove('font-small');
    if (document.body.classList.contains('font-large')) {
        document.body.classList.remove('font-large');
        document.body.classList.add('font-xlarge');
    } else {
        document.body.classList.add('font-large');
    }
    showToast('Dimensione testo aumentata', 'info');
}

function toggleHighContrast() {
    document.body.classList.toggle('high-contrast');
    const isActive = document.body.classList.contains('high-contrast');
    showToast(isActive ? 'Alto contrasto attivato' : 'Alto contrasto disattivato', 'info');
}
*/

// Navigation
function navigateTo(page) {
    showLoading();

    const content = document.getElementById('mainContent');
    // Chiudi sidebar se aperta
    closeSidebar();

    currentPage = page;

    setTimeout(() => {
        window.scrollTo({top: 0, behavior: 'smooth'});

        switch(page) {
            case 'home': content.innerHTML = getHomePage(); break;
            case 'notizie': content.innerHTML = getNotizePage(); break;
            case 'aggiornamenti': content.innerHTML = getAggiornmentiPage(); break;
            case 'chi-siamo': content.innerHTML = getChiSiamoPage(); break;
            case 'veicoli': content.innerHTML = getVeicoliPage(); break;
            case 'qualifiche': content.innerHTML = getQualifichePage(); break;
            case 'prenota': content.innerHTML = getPrenotaPage(); break;
            case 'concorso': content.innerHTML = getConcorsoPage(); break;
            case 'faq': content.innerHTML = getFAQPage(); break;
            case 'login': 
                content.innerHTML = getLoginPage(); 
                // Initialize credits page animations
                setTimeout(() => {
                    initCreditsAnimations();
                }, 100);
                break;
            case 'admin': content.innerHTML = getAdminPage(); break;
            default: content.innerHTML = getHomePage();
        }

        content.classList.add('page-transition');

        // Animate numbers on home page
        if (page === 'home') {
            setTimeout(() => {
                // Nascondi loading sempre dopo 500ms
                hideLoading();
            }, 500);
        } else {
            hideLoading();
        }
        
        // Aggiorna stato attivo della navigazione
        updateActiveNav(page);
    }, 400);
}

function updateActiveNav(page) {
    const links = document.querySelectorAll('.nav-menu a[data-page]');
    links.forEach(link => {
        const isActive = link.getAttribute('data-page') === page;
        link.classList.toggle('active', isActive);
        link.setAttribute('aria-current', isActive ? 'page' : 'false');
    });
}

function toggleMobileMenu() {
    const sidebar = document.getElementById('navSidebar');
    const overlay = document.getElementById('sidebarOverlay');
    const toggle = document.getElementById('mobileToggle');
    const isOpen = sidebar.classList.toggle('open');
    overlay.classList.toggle('visible', isOpen);
    toggle.textContent = isOpen ? '✕' : '☰';
    toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
    sidebar.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
}

function closeSidebar() {
    const sidebar = document.getElementById('navSidebar');
    const overlay = document.getElementById('sidebarOverlay');
    const toggle = document.getElementById('mobileToggle');
    sidebar.classList.remove('open');
    overlay.classList.remove('visible');
    toggle.textContent = '☰';
    toggle.setAttribute('aria-expanded', 'false');
    sidebar.setAttribute('aria-hidden', 'true');
}

function getBreadcrumb(page) {
    const breadcrumbs = {
        home: 'Home',
        notizie: 'Notizie',
        aggiornamenti: 'STATUS',
        'chi-siamo': 'Chi Siamo',
        veicoli: 'Veicoli della Polizia',
        qualifiche: 'Qualifiche e Gradi',
        prenota: 'Prenota Servizio',
        concorso: 'Concorsi Pubblici',
        faq: 'Domande Frequenti',
        login: 'Crediti',
        admin: 'Dashboard Amministrativa'
    };

    if (page === 'home') return '';

    return `
        <div class="breadcrumb">
            <div class="breadcrumb-container">
                <a href="#" onclick="navigateTo('home'); return false;">Home</a>
                <span class="breadcrumb-separator">›</span>
                <span class="breadcrumb-current">${breadcrumbs[page]}</span>
            </div>
        </div>
    `;
}

// Pages Functions
function getHomePage() {
    return `
    <section class="hero" style="position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden;padding:0;background:#001D3D;">
        <!-- Immagine di sfondo più visibile -->
        <div style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;">
            <img src="https://i.imgur.com/buUwJdA.jpeg" alt="Questura di Roma" style="width:100%;height:100%;object-fit:cover;opacity:0.7;">
            <div style="position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(120deg,rgba(0,67,164,0.18) 0%,rgba(0,29,61,0.22) 100%);"></div>
        </div>
        <!-- Contenuti centrati sovrapposti all'immagine -->
        <div style="position:relative;z-index:2;max-width:960px;width:100%;margin:0 auto;padding:0 16px;text-align:center;">
            <div style="display:flex;flex-direction:column;align-items:center;">
                <div style="display:inline-flex;align-items:center;gap:0.6rem;padding:0.35rem 0.9rem;border-radius:10px;margin-bottom:1.1rem;font-size:0.96rem;font-weight:700;color:#ffffff;background:rgba(0,29,61,0.45);border:1px solid rgba(255,255,255,0.25);">
                    <img src="https://i.imgur.com/CSxLhzM.png" alt="Bandiera Italia" style="width:20px;height:15px;object-fit:contain;"> MINISTERO DELL'INTERNO <img src="https://i.imgur.com/CSxLhzM.png" alt="Bandiera Italia" style="width:20px;height:15px;object-fit:contain;">
                </div>
                <h1 style="font-size:3rem;font-weight:900;color:#ffffff;margin-bottom:0.5rem;letter-spacing:-0.8px;line-height:1.05;text-shadow:0 6px 28px rgba(0,0,0,0.35);">
                    Polizia di Stato
                </h1>
                <p style="font-size:1.25rem;color:#E6F0FF;margin-bottom:1rem;font-style:italic;opacity:0.98;text-shadow:0 3px 18px rgba(0,0,0,0.35);">
                    "Esserci Sempre"
                </p>
                <div style="color:#ffffff;margin-bottom:1.4rem;display:inline-flex;align-items:center;gap:0.5rem;font-size:1.05rem;text-shadow:0 3px 18px rgba(0,0,0,0.35);">
                    <span style="font-size:1.15rem;">📍</span>
                    <span style="font-weight:700;">Via Del Viminale 615, 00184 Roma</span>
                </div>
                <div style="display:flex;gap:0.9rem;flex-wrap:wrap;justify-content:center;">
                    <a href="tel:113" style="display:inline-flex;align-items:center;gap:0.6rem;padding:0.95rem 1.7rem;background:linear-gradient(90deg,#DC2626,#B91C1C);border:none;border-radius:14px;color:#fff;text-decoration:none;font-weight:800;font-size:1.05rem;box-shadow:0 10px 24px rgba(220,38,38,0.35);">
                        🚨 Emergenza 113
                    </a>
                    <a href="#" onclick="navigateTo('prenota'); return false;" style="display:inline-flex;align-items:center;gap:0.6rem;padding:0.95rem 1.7rem;background:transparent;border:2px solid rgba(255,255,255,0.85);border-radius:14px;color:#ffffff;text-decoration:none;font-weight:800;font-size:1.05rem;text-shadow:0 3px 18px rgba(0,0,0,0.35);">
                        📋 Prenota Servizi
                    </a>
                </div>
            </div>
        </div>
    </section>
    <div class="section-separator"></div>
    <section class="home-services-section">
        <div class="container">
            <div class="home-services-overline">I NOSTRI SERVIZI</div>
            <h2 class="home-services-title">Supporto al cittadino, sicurezza e trasparenza</h2>
            <p class="home-services-subtitle">Seleziona un servizio per scoprire requisiti, modalità e canali digitali disponibili. Il nostro personale è a disposizione in Questura e online.</p>
            <div class="services-grid-v3">
                <div class="service-card-v3">
                    <img class="thumb" src="https://i.imgur.com/0KkQ5QY.jpeg" alt="URP - Ufficio Relazioni col Pubblico">
                    <div class="content">
                        <a class="title" href="#" onclick="navigateTo('chi-siamo'); return false;">Ufficio Relazioni col Pubblico</a>
                        <p class="desc">Accoglienza, informazioni e orientamento ai servizi della Polizia di Stato.</p>
                        <p class="more">Consulta anche: <a href="#" onclick="navigateTo('chi-siamo'); return false;">URP</a></p>
                    </div>
                </div>
                <div class="service-card-v3">
                    <img class="thumb" src="https://i.imgur.com/ZmQd8nD.jpeg" alt="Porto d'Armi">
                    <div class="content">
                        <a class="title" href="#" onclick="navigateTo('prenota'); return false;">Porto d'Armi</a>
                        <p class="desc">Requisiti, idoneità e prenotazione per il rilascio del porto d'armi.</p>
                        <p class="more">Consulta anche: <a href="#" onclick="navigateTo('prenota'); return false;">Porto d'armi</a></p>
                    </div>
                </div>
                <div class="service-card-v3">
                    <img class="thumb" src="https://i.imgur.com/2H2L8qQ.jpeg" alt="Denuncia, Querela, Esposto">
                    <div class="content">
                        <a class="title" href="#" onclick="navigateTo('faq'); return false;">Denuncia, Querela, Esposto</a>
                        <p class="desc">Indicazioni per presentare denuncia in Questura o tramite prenotazione.</p>
                        <p class="more">Consulta anche: <a href="#" onclick="navigateTo('faq'); return false;">Denuncia</a></p>
                    </div>
                </div>
                <div class="service-card-v3">
                    <img class="thumb" src="https://i.imgur.com/8mQJY1V.jpeg" alt="Bando di Concorso">
                    <div class="content">
                        <a class="title" href="#" onclick="navigateTo('concorso'); return false;">Bando di Concorso</a>
                        <p class="desc">Informazioni, requisiti e scadenze per accedere ai concorsi pubblici.</p>
                        <p class="more">Consulta anche: <a href="#" onclick="navigateTo('concorso'); return false;">Concorso Pubblico</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    `;
}

function getNotizePage() {
    return getBreadcrumb('notizie') + `
        <div class="page-content">
            <div class="news-container">
                <div style="text-align: center; margin-bottom: 3rem;">
                    <h1 style="font-size: 3rem; font-weight: 900; margin-bottom: 1rem; background: linear-gradient(135deg, var(--dark-blue), var(--primary-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                        📰 Notizie Ufficiali
                    </h1>
                    <p style="font-size: 1.2rem; color: var(--text-gray); max-width: 600px; margin: 0 auto;">
                        Comunicati stampa e aggiornamenti dalla Polizia di Stato
                    </p>
                </div>
                
                <div class="news-filters">
                    <button class="news-filter-btn active" onclick="filterNews('tutte')">Tutte</button>
                    <button class="news-filter-btn" onclick="filterNews('urgente')">Urgenti</button>
                    <button class="news-filter-btn" onclick="filterNews('comunicato')">Comunicati</button>
                    <button class="news-filter-btn" onclick="filterNews('nomina')">Nomine</button>
                    <button class="news-filter-btn" onclick="filterNews('lutto')">Lutto</button>
                </div>

                <div class="news-grid" id="newsGrid">
                    ${notizie.map(notizia => `
                        <div class="news-card" data-category="${notizia.tipo}">
                            <div class="news-card-header">
                                <div class="news-category ${notizia.tipo}">${notizia.categoria}</div>
                                <div class="news-date">📅 ${notizia.data}</div>
                                <h3 class="news-title">${notizia.titolo}</h3>
                                <div class="news-author">${notizia.autore}</div>
                            </div>
                            <div class="news-content">
                                <p class="news-excerpt">${notizia.contenuto}</p>
                                <a class="news-read-more" onclick="openModal(${notizia.id})">
                                    Leggi tutto
                                </a>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        </div>
    `;
}

function getAggiornmentiPage() {
    return getBreadcrumb('aggiornamenti') + `
        <div class="page-content section-white">
            <div class="container">
                <h1>🔄 Aggiornamenti Sistema</h1>
                <p class="subtitle">Timeline delle ultime modifiche, miglioramenti e nuove funzionalità del portale</p>
                
                <div class="timeline-container">
                    <div class="timeline-line"></div>
                    ${aggiornamenti.map(agg => `
                        <div class="timeline-item">
                            <div class="timeline-icon">${agg.icona}</div>
                            <div class="timeline-content">
                                <div class="timeline-date">${agg.data}</div>
                                <h3>${agg.titolo}</h3>
                                <p>${agg.descrizione}</p>
                                <div class="timeline-tags">
                                    ${agg.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <h2 style="text-align: center; font-size: 2.5rem; color: var(--dark-blue); margin: 5rem 0 3rem; font-weight: 800;">
                    📋 Changelog Versioni
                </h2>

                <div class="changelog-grid">
                    ${changelog.map(version => `
                        <div class="changelog-card">
                            <div class="changelog-version">${version.versione}</div>
                            <div class="changelog-date">📅 ${version.data}</div>
                            <ul class="changelog-list">
                                ${version.modifiche.map(modifica => `<li>${modifica}</li>`).join('')}
                            </ul>
                        </div>
                    `).join('')}
                </div>

                <div style="background: linear-gradient(135deg, var(--light-blue) 0%, white 100%); padding: 3rem; border-radius: 20px; margin-top: 4rem; text-align: center; border: 2px solid var(--primary-blue);">
                    <h3 style="color: var(--dark-blue); font-size: 1.8rem; margin-bottom: 1rem; font-weight: 700;">
                        💡 Hai suggerimenti o feedback?
                    </h3>
                    <p style="color: var(--text-gray); font-size: 1.1rem; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                        Il tuo feedback è prezioso! Aiutaci a migliorare il portale segnalando problemi o suggerendo nuove funzionalità.
                    </p>
                    <a href="#" onclick="navigateTo('prenota'); return false;" class="btn-primary" style="display: inline-flex;">
                        <span>📧</span> Invia Feedback
                    </a>
                </div>
            </div>
        </div>
    `;
}

function getFAQPage() {
    return getBreadcrumb('faq') + `
        <div class="page-content section-white">
            <div class="container">
                <h1>❓ Domande Frequenti</h1>
                <p class="subtitle">Trova rapidamente le risposte alle domande più comuni</p>
                
                <div class="faq-container">
                    ${faqData.map((faq, index) => `
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFAQ(${index})">
                                <span>${faq.question}</span>
                                <span class="faq-icon">▼</span>
                            </div>
                            <div class="faq-answer">
                                <p>${faq.answer}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div style="background: var(--light-blue); padding: 3rem; border-radius: 20px; margin-top: 4rem; text-align: center;">
                    <h3 style="color: var(--dark-blue); font-size: 1.8rem; margin-bottom: 1rem;">
                        Non hai trovato la risposta?
                    </h3>
                    <p style="color: var(--text-gray); font-size: 1.1rem; margin-bottom: 2rem;">
                        Contatta il nostro servizio di assistenza via email o telefono.
                    </p>
                </div>
            </div>
        </div>
    `;
}

function getChiSiamoPage() {
    return getBreadcrumb('chi-siamo') + `
        <div class="page-content section-white">
            <div class="container chi-siamo-content">
                <h1>💬 Chi Siamo</h1>
                <p class="subtitle">Storia, missione e valori della Polizia di Stato</p>

                <!-- Modern Intro Hero -->
                <section class="about-hero">
                    <div class="about-grid">
                        <div>
                            <div class="overline">📘 Ministero dell'Interno</div>
                            <h2>La Nostra Storia</h2>
                            <p class="subtitle">Dal 1981 tuteliamo sicurezza, legalità e diritti dei cittadini con una presenza capillare e specializzata su tutto il territorio nazionale.</p>
                            <div class="about-stats">
                                <div class="about-chip">100.000+ <small>Operatori</small></div>
                                <div class="about-chip">100% <small>Copertura</small></div>
                                <div class="about-chip">24/7 <small>Impegno</small></div>
                                <div class="about-chip">1981 <small>Riforma</small></div>
                            </div>
                        </div>
                        <aside class="about-gallery">
                            <div class="about-image">
                                <img src="https://i.imgur.com/QbqzLnq.png" alt="Storia della Polizia di Stato">
                                <div class="caption">Evoluzione storica della Polizia di Stato</div>
                            </div>
                        </aside>
                    </div>
                </section>

                <!-- Two-column Layout: Text + Images -->
                <section class="about-grid">
                    <article class="about-card">
                        <h3>Identità e Missione</h3>
                        <p>
                            La Polizia di Stato, dipendente dal Dipartimento della Pubblica Sicurezza del Ministero dell'Interno, ha ereditato
                            il patrimonio storico e operativo delle forze precedenti, evolvendo in un'organizzazione moderna e civile. Siamo presenti
                            in tutta Italia con questure, commissariati e specialità operative per prevenire e contrastare la criminalità, tutelando
                            l'ordine e la sicurezza pubblica.
                        </p>
                        <h3 style="margin-top:1.2rem;">Presenza sul Territorio</h3>
                        <p>
                            Attraverso strutture territoriali e reparti specializzati garantiamo risposte tempestive, assistenza al cittadino e supporto
                            alle istituzioni, promuovendo allo stesso tempo cultura della legalità e sicurezza digitale.
                        </p>
                    </article>
                    <aside class="about-gallery">
                        <div class="about-image">
                            <img src="https://i.imgur.com/GCujwQV.png" alt="Tradizione della Polizia di Stato">
                            <div class="caption">Tradizione e modernità al servizio dei cittadini</div>
                        </div>
                    </aside>
                </section>

                <!-- Values Slim Row -->
                <section class="about-values" aria-label="Valori e principi">
                    <div class="about-value-item">
                        <div class="about-badge" aria-hidden="true">🎯</div>
                        <div>
                            <div class="about-value-title">Missione</div>
                            <p class="about-value-text">Garantire sicurezza pubblica e tutela dei diritti con professionalità, prevenzione e vicinanza alla comunità.</p>
                        </div>
                    </div>
                    <div class="about-value-item">
                        <div class="about-badge" aria-hidden="true">⚖️</div>
                        <div>
                            <div class="about-value-title">Valori</div>
                            <p class="about-value-text">Legalità, integrità, trasparenza e rispetto dei diritti umani guidano ogni nostra azione quotidiana.</p>
                        </div>
                    </div>
                    <div class="about-value-item">
                        <div class="about-badge" aria-hidden="true">🤝</div>
                        <div>
                            <div class="about-value-title">Impegno</div>
                            <p class="about-value-text">Presenza costante 24/7 al servizio dei cittadini, collaborazione istituzionale e responsabilità sociale.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    `;
}

function getVeicoliPage() {
    return getBreadcrumb('veicoli') + `
        <div class="page-content">
            <div class="container">
                <h1>🚗 Veicoli della Polizia</h1>
                <p class="subtitle">Flotta operativa e mezzi speciali al servizio della sicurezza</p>
                
                <div class="services-grid">
                    ${veicoli.map(veicolo => `
                        <div class="service-card">
                            ${veicolo.image ? `<img class="vehicle-thumb" src="${veicolo.image}" alt="${veicolo.nome}">` : ''}
                            <div class="service-icon">🚓</div>
                            <h3>${veicolo.nome}</h3>
                            <p style="color: var(--primary-blue); font-weight: 700; margin-bottom: 0.75rem; font-size: 0.95rem;">${veicolo.tipo}</p>
                            <p>${veicolo.descrizione}</p>
                        </div>
                    `).join('')}
                </div>
            </div>
        </div>
    `;
}

function getQualifichePage() {
    return getBreadcrumb('qualifiche') + `
        <div class="page-content section-white">
            <div class="container">
                <h1>🎖️ Qualifiche e Gradi</h1>
                <p class="subtitle">Struttura gerarchica del personale della Polizia di Stato</p>
                
                <div class="qualifiche-image-container">
                    <h3>📊 Tabella Completa dei Gradi della Polizia di Stato</h3>
                    <img src="https://i.imgur.com/Bddg5nl.png" alt="Gradi Polizia di Stato">
                    <p style="margin-top: 1.5rem; color: var(--text-gray); font-size: 0.95rem;">
                        Visualizzazione ufficiale della gerarchia e dei distintivi di grado
                    </p>
                </div>

                <div class="services-grid">
                    ${qualifiche.map(qualifica => `
                        <div class="service-card">
                            <h3 style="font-size: 1.4rem; margin-bottom: 1.25rem; color: var(--dark-blue);">${qualifica.nome}</h3>
                            <p style="line-height: 1.7;">${qualifica.descrizione}</p>
                        </div>
                    `).join('')}
                </div>

                <div style="background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%); color: white; padding: 3rem; border-radius: 20px; margin-top: 4rem; text-align: center;">
                    <h2 style="margin-bottom: 1rem; font-size: 2rem;">Gerarchia Operativa</h2>
                    <p style="max-width: 700px; margin: 0 auto; line-height: 1.8; opacity: 0.95; font-size: 1.05rem;">
                        La Polizia di Stato è organizzata secondo una struttura gerarchica che garantisce efficienza operativa 
                        e catena di comando chiara. Ogni grado ha responsabilità specifiche e contribuisce alla missione 
                        complessiva di sicurezza pubblica.
                    </p>
                </div>
            </div>
        </div>
    `;
}

function getPrenotaPage() {
    return getBreadcrumb('prenota') + `
        <div class="page-content section-white">
            <div class="container">
                <!-- Header Sezione -->
                <div class="prenota-header-section">
                    <h1>📋 Prenota un Servizio</h1>
                    <p class="prenota-subtitle">Sistema di prenotazione online per tutti i servizi della Polizia di Stato</p>
                    <div class="prenota-separator"></div>
                    <h2>🎯 Servizi Disponibili</h2>
                    <div class="scroll-arrow" onclick="scrollToModulo()">
                        <div class="arrow-icon">↓</div>
                        <span>Vai al modulo di prenotazione</span>
                    </div>
                </div>

                <!-- Servizi Disponibili -->
                <div class="prenota-servizi-section">
                    <div class="servizi-grid">
                        <div class="servizio-card">
                            <div class="servizio-icon">💼</div>
                            <h3>Colloquio di Lavoro</h3>
                            <p>Valutazione per l'ammissione nella Polizia di Stato</p>
                            <div class="servizio-badge">Disponibile</div>
                        </div>
                        <div class="servizio-card">
                            <div class="servizio-icon">🔫</div>
                            <h3>Porto d'Armi</h3>
                            <p>Richiesta e rilascio licenze di porto d'armi</p>
                            <div class="servizio-badge">Disponibile</div>
                        </div>
                        <div class="servizio-card">
                            <div class="servizio-icon">📄</div>
                            <h3>URP e Denunce</h3>
                            <p>Servizi URP e presentazione denunce</p>
                            <div class="servizio-badge">Disponibile</div>
                        </div>
                        <div class="servizio-card">
                            <div class="servizio-icon">🏛️</div>
                            <h3>Colloquio Questore</h3>
                            <p>Incontro diretto con il Questore</p>
                            <div class="servizio-badge">Su appuntamento</div>
                        </div>
                    </div>
                </div>

                <!-- Modulo Prenotazione -->
                <div class="prenota-modulo-section" id="modulo-prenotazione">
                    <div class="modulo-header">
                        <h2>📝 Modulo di Prenotazione</h2>
                        <p>Compila il modulo sottostante per prenotare il tuo appuntamento</p>
                    </div>
                    
                    <div class="google-form-wrapper">
                        <iframe 
                            src="https://forms.gle/yToY3BARpwWtGzeA6" 
                            width="100%" 
                            height="1200" 
                            frameborder="0" 
                            marginheight="0" 
                            marginwidth="0"
                            title="Modulo Prenotazioni Questura di Roma">
                            Caricamento modulo...
                        </iframe>
                    </div>
                </div>

                <!-- Informazioni Utili -->
                <div class="prenota-info-section">
                    <h2>ℹ️ Informazioni Utili</h2>
                    <div class="info-cards">
                        <div class="info-card">
                            <div class="info-icon">⏰</div>
                            <h3>Orari di Apertura</h3>
                            <ul>
                                <li><strong>Lunedì - Venerdì:</strong> 8:30 - 16:30</li>
                                <li><strong>Sabato:</strong> 8:30 - 12:30</li>
                                <li><strong>Domenica:</strong> Chiuso</li>
                            </ul>
                        </div>
                        <div class="info-card">
                            <div class="info-icon">📋</div>
                            <h3>Documenti Richiesti</h3>
                            <ul>
                                <li>Documento d'identità valido</li>
                                <li>Codice fiscale</li>
                                <li>Fototessera recente</li>
                                <li>Documentazione specifica</li>
                            </ul>
                        </div>
                        <div class="info-card">
                            <div class="info-icon">📞</div>
                            <h3>Contatti</h3>
                            <ul>
                                <li><strong>Telefono:</strong> 06 46861</li>
                                <li><strong>Email:</strong> prenotazioni.roma@poliziadistato.it</li>
                                <li><strong>Emergenze:</strong> 113</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- FAQ -->
                <div class="prenota-faq-section">
                    <h2>❓ Domande Frequenti</h2>
                    <div class="faq-container">
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <span>Posso modificare o cancellare la mia prenotazione?</span>
                                <span class="faq-icon">+</span>
                            </div>
                            <div class="faq-answer">
                                <p>Sì, puoi modificare o cancellare la tua prenotazione fino a 24 ore prima dell'appuntamento contattando il numero 06 46861 o inviando una email.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <span>Cosa succede se arrivo in ritardo?</span>
                                <span class="faq-icon">+</span>
                            </div>
                            <div class="faq-answer">
                                <p>In caso di ritardo superiore a 15 minuti, l'appuntamento potrebbe essere annullato. Ti consigliamo di arrivare con almeno 10 minuti di anticipo.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFAQ(this)">
                                <span>Posso prenotare per più persone?</span>
                                <span class="faq-icon">+</span>
                            </div>
                            <div class="faq-answer">
                                <p>Ogni prenotazione è personale. Per più persone è necessario compilare un modulo separato per ciascun interessato.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
}

function getConcorsoPage() {
    return getBreadcrumb('concorso') + `
        <div class="page-content">
            <div class="container">
                <h1>🎓 Concorsi Pubblici</h1>
                <p class="subtitle">Entra a far parte della Polizia di Stato - Bandi attivi 2025</p>
                
                <div style="background: white; padding: 3rem; border-radius: 20px; margin-bottom: 3rem; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                    <h2 style="color: var(--dark-blue); margin-bottom: 2rem; font-size: 2rem;">Concorsi Attivi</h2>
                    <div style="border-left: 5px solid var(--secondary-blue); padding-left: 2rem; margin: 2rem 0; background: var(--light-blue); padding: 2rem; border-radius: 0 12px 12px 0;">
                        <h3 style="color: var(--primary-blue); margin-bottom: 0.75rem; font-size: 1.5rem;">Concorso per 1.500 Allievi Agenti</h3>
                        <p style="color: var(--text-gray); margin-bottom: 0.75rem; font-weight: 600;">📅 Scadenza: 31 Dicembre 2025</p>
                        <p style="line-height: 1.8; color: var(--text-dark);">
                            Bando per l'assunzione di 1.500 allievi agenti della Polizia di Stato. Requisiti principali: diploma di scuola secondaria superiore, 
                            cittadinanza italiana, età compresa tra 18 e 30 anni, idoneità fisica e psico-attitudinale.
                        </p>
                    </div>
                    <div style="border-left: 5px solid var(--secondary-blue); padding-left: 2rem; margin: 2rem 0; background: var(--light-blue); padding: 2rem; border-radius: 0 12px 12px 0;">
                        <h3 style="color: var(--primary-blue); margin-bottom: 0.75rem; font-size: 1.5rem;">Concorso Commissari di Polizia</h3>
                        <p style="color: var(--text-gray); margin-bottom: 0.75rem; font-weight: 600;">📅 Scadenza: 15 Gennaio 2026</p>
                        <p style="line-height: 1.8; color: var(--text-dark);">
                            Bando per l'assunzione di Commissari della Polizia di Stato. Requisiti: laurea magistrale, 
                            cittadinanza italiana, età non superiore a 30 anni.
                        </p>
                    </div>
                </div>

                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">📝</div>
                        <h3>Requisiti</h3>
                        <p>Cittadinanza italiana, diploma di scuola superiore, età 18-30 anni, idoneità fisica e psico-attitudinale completa</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">📚</div>
                        <h3>Prove d'Esame</h3>
                        <p>Prova scritta, test psico-attitudinali, prova di efficienza fisica, accertamenti sanitari e colloquio</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">🏆</div>
                        <h3>Formazione</h3>
                        <p>Corso intensivo presso le Scuole della Polizia di Stato con retribuzione e alloggio inclusi</p>
                    </div>
                </div>
            </div>
        </div>
    `;
}

function getAggiornmentiPage() {
    return getBreadcrumb('aggiornamenti') + `
        <div class="page-content section-white">
            <div class="container">
                <div class="system-status-hero">
                    <div class="status-header">
                        <div class="status-icon">⚡</div>
                        <div class="status-title-section">
                            <h1>Stato Sistema</h1>
                            <p class="status-subtitle">Monitoraggio in tempo reale dei servizi e informazioni sulla versione corrente</p>
                        </div>
                    </div>
                </div>

                <div class="system-overview">
                    <div class="version-info-card">
                        <div class="version-header">
                            <div class="version-icon">📋</div>
                            <h3>Versione Corrente</h3>
                        </div>
                        <div class="version-details">
                            <div class="version-item">
                                <span class="version-label">Versione:</span>
                                <span class="version-value">2.4.1</span>
                            </div>
                            <div class="version-item">
                                <span class="version-label">Build:</span>
                                <span class="version-value">2025.10.08.1432</span>
                            </div>
                            <div class="version-item">
                                <span class="version-label">Ultimo Aggiornamento:</span>
                                <span class="version-value">8 Ottobre 2025, 14:32</span>
                            </div>
                            <div class="version-item">
                                <span class="version-label">Ambiente:</span>
                                <span class="version-value production">Produzione</span>
                            </div>
                        </div>
                    </div>

                    <div class="system-health-card">
                        <div class="health-header">
                            <div class="health-icon">🏥</div>
                            <h3>Stato Generale Sistema</h3>
                        </div>
                        <div class="health-status">
                            <div class="health-indicator operational">
                                <div class="health-dot"></div>
                                <span class="health-text">Tutti i servizi operativi</span>
                            </div>
                            <div class="health-metrics">
                                <div class="metric">
                                    <span class="metric-value">99.9%</span>
                                    <span class="metric-label">Uptime</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-value">45ms</span>
                                    <span class="metric-label">Latenza</span>
                                </div>
                                <div class="metric">
                                    <span class="metric-value">1,247</span>
                                    <span class="metric-label">Utenti Online</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modern-services-container">
                    <div class="services-header">
                        <div class="services-title-section">
                            <h2>Stato Servizi</h2>
                            <p>Monitoraggio in tempo reale delle prestazioni</p>
                        </div>
                        <div class="services-overview">
                            <div class="overview-item">
                                <span class="overview-number">6</span>
                                <span class="overview-label">Servizi</span>
                            </div>
                            <div class="overview-item">
                                <span class="overview-number">5</span>
                                <span class="overview-label">Operativi</span>
                            </div>
                            <div class="overview-item">
                                <span class="overview-number">1</span>
                                <span class="overview-label">Manutenzione</span>
                            </div>
                        </div>
                    </div>

                    <div class="modern-services-grid">
                        <div class="modern-service-card ${adminData.services.prenotazioni}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M9 12l2 2 4-4"/>
                                        <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                        <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                        <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
                                        <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.prenotazioni}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.prenotazioni === 'operational' ? 'Operativo' : adminData.services.prenotazioni === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Sistema Prenotazioni</h3>
                                <p>Gestione appuntamenti e prenotazioni online</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">32ms</span>
                                        <span class="stat-label">Latenza</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">847</span>
                                        <span class="stat-label">Richieste/min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modern-service-card ${adminData.services.autenticazione}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.autenticazione}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.autenticazione === 'operational' ? 'Operativo' : adminData.services.autenticazione === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Autenticazione</h3>
                                <p>Sistema di login e gestione credenziali</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">18ms</span>
                                        <span class="stat-label">Latenza</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">234</span>
                                        <span class="stat-label">Login/min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modern-service-card ${adminData.services.documenti}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                        <polyline points="14,2 14,8 20,8"/>
                                        <line x1="16" y1="13" x2="8" y2="13"/>
                                        <line x1="16" y1="17" x2="8" y2="17"/>
                                        <polyline points="10,9 9,9 8,9"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.documenti}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.documenti === 'operational' ? 'Operativo' : adminData.services.documenti === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Gestione Documenti</h3>
                                <p>Upload, elaborazione e archiviazione documenti</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">67ms</span>
                                        <span class="stat-label">Latenza</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">156</span>
                                        <span class="stat-label">Documenti/min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modern-service-card ${adminData.services.database}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <ellipse cx="12" cy="5" rx="9" ry="3"/>
                                        <path d="M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"/>
                                        <path d="M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.database}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.database === 'operational' ? 'Operativo' : adminData.services.database === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Database</h3>
                                <p>Sistema di gestione dati e archiviazione</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">12ms</span>
                                        <span class="stat-label">Latenza</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">2.8k</span>
                                        <span class="stat-label">Query/min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modern-service-card ${adminData.services.notifiche}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                        <polyline points="22,6 12,13 2,6"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.notifiche}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.notifiche === 'operational' ? 'Operativo' : adminData.services.notifiche === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Sistema Notifiche</h3>
                                <p>Invio email e notifiche automatiche</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">89ms</span>
                                        <span class="stat-label">Latenza</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">423</span>
                                        <span class="stat-label">Email/min</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="modern-service-card ${adminData.services.backup}">
                            <div class="service-card-header">
                                <div class="service-icon-modern">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                        <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                                        <line x1="12" y1="22.08" x2="12" y2="12"/>
                                    </svg>
                                </div>
                                <div class="service-status-modern ${adminData.services.backup}">
                                    <div class="status-indicator"></div>
                                    <span class="status-text">${adminData.services.backup === 'operational' ? 'Operativo' : adminData.services.backup === 'maintenance' ? 'Manutenzione' : 'Non Operativo'}</span>
                                </div>
                            </div>
                            <div class="service-card-body">
                                <h3>Backup Sistema</h3>
                                <p>Archiviazione e backup automatici</p>
                                <div class="service-stats">
                                    <div class="stat-item">
                                        <span class="stat-value">23:00</span>
                                        <span class="stat-label">Prossimo</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">07:00</span>
                                        <span class="stat-label">Ultimo</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="system-footer">
                    <div class="last-update">
                        <p><strong>Ultimo aggiornamento:</strong> ${new Date().toLocaleString('it-IT')}</p>
                        <p class="update-note">I dati vengono aggiornati ogni 30 secondi</p>
                    </div>
                </div>
            </div>
        </div>
    `;
}

function getAdminPage() {
    return getBreadcrumb('admin') + `
        <div class="page-content section-white">
            <div class="container">
                <div class="admin-hero">
                    <div class="admin-header">
                        <div class="admin-icon">⚙️</div>
                        <div class="admin-title-section">
                            <h1>Dashboard Amministrativa</h1>
                            <p class="admin-subtitle">Gestione stato servizi e prenotazioni</p>
                        </div>
                    </div>
                </div>

                <div class="admin-sections">
                    <div class="admin-section">
                        <h2>🔄 Gestione Stato Servizi</h2>
                        <p>Modifica lo stato operativo dei servizi di sistema</p>
                        
                        <div class="admin-controls">
                            <div class="control-group">
                                <label>Sistema Prenotazioni</label>
                                <select onchange="updateServiceStatus('prenotazioni', this.value)">
                                    <option value="operational" ${adminData.services.prenotazioni === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.prenotazioni === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.prenotazioni === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Autenticazione</label>
                                <select onchange="updateServiceStatus('autenticazione', this.value)">
                                    <option value="operational" ${adminData.services.autenticazione === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.autenticazione === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.autenticazione === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Gestione Documenti</label>
                                <select onchange="updateServiceStatus('documenti', this.value)">
                                    <option value="operational" ${adminData.services.documenti === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.documenti === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.documenti === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Database</label>
                                <select onchange="updateServiceStatus('database', this.value)">
                                    <option value="operational" ${adminData.services.database === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.database === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.database === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Sistema Notifiche</label>
                                <select onchange="updateServiceStatus('notifiche', this.value)">
                                    <option value="operational" ${adminData.services.notifiche === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.notifiche === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.notifiche === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Backup Sistema</label>
                                <select onchange="updateServiceStatus('backup', this.value)">
                                    <option value="operational" ${adminData.services.backup === 'operational' ? 'selected' : ''}>Operativo</option>
                                    <option value="maintenance" ${adminData.services.backup === 'maintenance' ? 'selected' : ''}>Manutenzione</option>
                                    <option value="down" ${adminData.services.backup === 'down' ? 'selected' : ''}>Non Operativo</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="admin-section">
                        <h2>📋 Gestione Prenotazioni</h2>
                        <p>Modifica la disponibilità dei servizi di prenotazione</p>
                        
                        <div class="admin-controls">
                            <div class="control-group">
                                <label>URP e Denunce</label>
                                <select onchange="updatePrenotazioneStatus('urp', this.value)">
                                    <option value="available" ${adminData.prenotazioni.urp === 'available' ? 'selected' : ''}>Disponibile</option>
                                    <option value="appointment" ${adminData.prenotazioni.urp === 'appointment' ? 'selected' : ''}>Su Appuntamento</option>
                                    <option value="unavailable" ${adminData.prenotazioni.urp === 'unavailable' ? 'selected' : ''}>Non Disponibile</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Porto d'Armi</label>
                                <select onchange="updatePrenotazioneStatus('portoArmi', this.value)">
                                    <option value="available" ${adminData.prenotazioni.portoArmi === 'available' ? 'selected' : ''}>Disponibile</option>
                                    <option value="appointment" ${adminData.prenotazioni.portoArmi === 'appointment' ? 'selected' : ''}>Su Appuntamento</option>
                                    <option value="unavailable" ${adminData.prenotazioni.portoArmi === 'unavailable' ? 'selected' : ''}>Non Disponibile</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Denunce, Querela, Esposto</label>
                                <select onchange="updatePrenotazioneStatus('denunce', this.value)">
                                    <option value="available" ${adminData.prenotazioni.denunce === 'available' ? 'selected' : ''}>Disponibile</option>
                                    <option value="appointment" ${adminData.prenotazioni.denunce === 'appointment' ? 'selected' : ''}>Su Appuntamento</option>
                                    <option value="unavailable" ${adminData.prenotazioni.denunce === 'unavailable' ? 'selected' : ''}>Non Disponibile</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label>Colloquio Questore</label>
                                <select onchange="updatePrenotazioneStatus('colloquio', this.value)">
                                    <option value="available" ${adminData.prenotazioni.colloquio === 'available' ? 'selected' : ''}>Disponibile</option>
                                    <option value="appointment" ${adminData.prenotazioni.colloquio === 'appointment' ? 'selected' : ''}>Su Appuntamento</option>
                                    <option value="unavailable" ${adminData.prenotazioni.colloquio === 'unavailable' ? 'selected' : ''}>Non Disponibile</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="admin-actions">
                    <button class="admin-btn primary" onclick="navigateTo('aggiornamenti')">Visualizza Stato Servizi</button>
                    <button class="admin-btn secondary" onclick="navigateTo('prenota')">Visualizza Prenotazioni</button>
                    <button class="admin-btn danger" onclick="navigateTo('login')">Logout</button>
                </div>
            </div>
        </div>
    `;
}

function getLoginPage() {
    return getBreadcrumb('login') + `
        <div class="page-content" style="background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #2a1a3e 100%); min-height: 100vh; position: relative; overflow: hidden;">
            
            <!-- Animated Background Elements -->
            <div style="position: absolute; top: 20%; left: 10%; width: 400px; height: 400px; background: radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, transparent 70%); border-radius: 50%; filter: blur(60px); animation: floatSlow 8s ease-in-out infinite;"></div>
            <div style="position: absolute; bottom: 20%; right: 10%; width: 300px; height: 300px; background: radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, transparent 70%); border-radius: 50%; filter: blur(60px); animation: floatSlow 10s ease-in-out infinite reverse;"></div>
            
            <div class="container" style="max-width: 1000px; margin: 0 auto; padding: 4rem 2rem; position: relative; z-index: 1;">
                
                <!-- Profile Hero -->
                <div class="credits-profile-card">
                    <div class="profile-avatar-section">
                        <div class="avatar-wrapper">
                            <img src="${getUserProfilePhoto()}" alt="Profile" class="profile-avatar" id="profileImage">
                            <button class="avatar-edit-btn" onclick="document.getElementById('profileUpload').click()">
                                <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                            <input type="file" id="profileUpload" accept="image/*" style="display:none">
                        </div>
                    </div>
                    
                    <div class="profile-info-section">
                        <h1 class="profile-name-new">Ryze</h1>
                        <p class="profile-role-new">Full-Stack Developer • UI/UX Designer</p>
                        <div class="profile-status-new">
                            <span class="status-dot-new"></span>
                            <span>Available for projects</span>
                        </div>
                    </div>
                </div>
                
                <!-- Stats Grid -->
                <div class="credits-stats-grid">
                    <div class="stat-box-new">
                        <div class="stat-icon-new">🚀</div>
                        <div class="stat-value-new" data-target="2">0</div>
                        <div class="stat-label-new">Years Experience</div>
                    </div>
                    <div class="stat-box-new">
                        <div class="stat-icon-new">💼</div>
                        <div class="stat-value-new" data-target="50">0</div>
                        <div class="stat-label-new">Projects</div>
                    </div>
                    <div class="stat-box-new">
                        <div class="stat-icon-new">⭐</div>
                        <div class="stat-value-new" data-target="100">0</div>
                        <div class="stat-label-new">Satisfaction</div>
                    </div>
                    <div class="stat-box-new">
                        <div class="stat-icon-new">⚡</div>
                        <div class="stat-value-new" data-target="24">0</div>
                        <div class="stat-label-new">Support</div>
                    </div>
                </div>
                
                <!-- Skills -->
                <div class="credits-skills-section">
                    <h3 class="section-title-new">Core Skills</h3>
                    <div class="skills-container-new">
                        <div class="skill-badge-new">🎨 UI/UX Design</div>
                        <div class="skill-badge-new">⚡ Performance</div>
                        <div class="skill-badge-new">📱 Responsive</div>
                        <div class="skill-badge-new">🔒 Security</div>
                        <div class="skill-badge-new">♿ Accessibility</div>
                        <div class="skill-badge-new">🚀 DevOps</div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="credits-actions">
                    <a href="https://github.com" target="_blank" class="action-button-new primary-btn-new">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        <span>GitHub</span>
                    </a>
                    <a href="mailto:contact@example.com" class="action-button-new secondary-btn-new">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                        </svg>
                        <span>Contact</span>
                    </a>
                    <a href="#" class="action-button-new tertiary-btn-new">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                        </svg>
                        <span>Portfolio</span>
                    </a>
                </div>
                
            </div>
        </div>
        
        <style>
            @keyframes floatSlow {
                0%, 100% { transform: translate(0, 0) scale(1); }
                50% { transform: translate(30px, -30px) scale(1.1); }
            }
            
            @keyframes slideUp {
                from { opacity: 0; transform: translateY(30px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            @keyframes rotateGlow {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            @keyframes pulseGlow {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.6; }
            }
            
            .credits-profile-card {
                display: flex;
                align-items: center;
                gap: 3rem;
                background: rgba(255, 255, 255, 0.03);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 24px;
                padding: 3rem;
                margin-bottom: 3rem;
                animation: slideUp 0.8s ease-out;
            }
            
            .profile-avatar-section {
                flex-shrink: 0;
            }
            
            .avatar-wrapper {
                position: relative;
                width: 180px;
                height: 180px;
            }
            
            .avatar-wrapper::before {
                content: '';
                position: absolute;
                top: -4px;
                left: -4px;
                right: -4px;
                bottom: -4px;
                background: conic-gradient(from 0deg, #7c3aed, #ec4899, #f59e0b, #10b981, #7c3aed);
                border-radius: 50%;
                animation: rotateGlow 3s linear infinite;
                z-index: 0;
            }
            
            .profile-avatar {
                position: relative;
                width: 180px;
                height: 180px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid #1a1a2e;
                z-index: 1;
            }
            
            .avatar-edit-btn {
                position: absolute;
                bottom: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: linear-gradient(135deg, #7c3aed, #ec4899);
                border: 2px solid #1a1a2e;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s ease;
                z-index: 2;
            }
            
            .avatar-edit-btn:hover {
                transform: scale(1.1);
                box-shadow: 0 5px 20px rgba(124, 58, 237, 0.5);
            }
            
            .profile-info-section {
                flex: 1;
            }
            
            .profile-name-new {
                font-size: 3.5rem;
                font-weight: 900;
                margin: 0 0 0.5rem 0;
                background: linear-gradient(135deg, #ffffff, #7c3aed, #ec4899);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                line-height: 1.2;
            }
            
            .profile-role-new {
                font-size: 1.25rem;
                color: rgba(255, 255, 255, 0.7);
                margin: 0 0 1.5rem 0;
            }
            
            .profile-status-new {
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                background: rgba(16, 185, 129, 0.15);
                border: 1px solid rgba(16, 185, 129, 0.3);
                padding: 0.5rem 1rem;
                border-radius: 50px;
                color: #10b981;
                font-size: 0.9rem;
                font-weight: 500;
            }
            
            .status-dot-new {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: #10b981;
                animation: pulseGlow 2s ease-in-out infinite;
            }
            
            .credits-stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1.5rem;
                margin-bottom: 3rem;
                animation: slideUp 0.8s ease-out 0.2s both;
            }
            
            .stat-box-new {
                background: rgba(255, 255, 255, 0.03);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 20px;
                padding: 2rem;
                text-align: center;
                transition: all 0.3s ease;
            }
            
            .stat-box-new:hover {
                transform: translateY(-5px);
                background: rgba(255, 255, 255, 0.05);
                box-shadow: 0 10px 30px rgba(124, 58, 237, 0.2);
            }
            
            .stat-icon-new {
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }
            
            .stat-value-new {
                font-size: 2.5rem;
                font-weight: 900;
                color: white;
                margin-bottom: 0.5rem;
            }
            
            .stat-label-new {
                color: rgba(255, 255, 255, 0.6);
                font-size: 0.9rem;
            }
            
            .credits-skills-section {
                margin-bottom: 3rem;
                animation: slideUp 0.8s ease-out 0.4s both;
            }
            
            .section-title-new {
                font-size: 2rem;
                font-weight: 700;
                color: white;
                text-align: center;
                margin-bottom: 2rem;
            }
            
            .skills-container-new {
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
                justify-content: center;
            }
            
            .skill-badge-new {
                background: rgba(255, 255, 255, 0.05);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                padding: 0.75rem 1.5rem;
                border-radius: 50px;
                color: rgba(255, 255, 255, 0.9);
                font-weight: 500;
                transition: all 0.3s ease;
                cursor: pointer;
            }
            
            .skill-badge-new:hover {
                background: rgba(124, 58, 237, 0.2);
                border-color: rgba(124, 58, 237, 0.5);
                transform: translateY(-2px);
            }
            
            .credits-actions {
                display: flex;
                gap: 1rem;
                justify-content: center;
                flex-wrap: wrap;
                animation: slideUp 0.8s ease-out 0.6s both;
            }
            
            .action-button-new {
                display: flex;
                align-items: center;
                gap: 0.75rem;
                padding: 1rem 2rem;
                border-radius: 50px;
                text-decoration: none;
                font-weight: 600;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }
            
            .action-button-new::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.2);
                transform: translate(-50%, -50%);
                transition: width 0.6s ease, height 0.6s ease;
            }
            
            .action-button-new:hover::before {
                width: 300px;
                height: 300px;
            }
            
            .action-button-new svg,
            .action-button-new span {
                position: relative;
                z-index: 1;
            }
            
            .primary-btn-new {
                background: linear-gradient(135deg, #7c3aed, #ec4899);
                color: white;
                border: none;
                box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
            }
            
            .primary-btn-new:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 25px rgba(124, 58, 237, 0.6);
            }
            
            .secondary-btn-new {
                background: rgba(255, 255, 255, 0.05);
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .secondary-btn-new:hover {
                background: rgba(255, 255, 255, 0.1);
                transform: translateY(-2px);
            }
            
            .tertiary-btn-new {
                background: transparent;
                color: rgba(255, 255, 255, 0.8);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .tertiary-btn-new:hover {
                background: rgba(255, 255, 255, 0.05);
                color: white;
                border-color: rgba(255, 255, 255, 0.4);
                transform: translateY(-2px);
            }
            
            @media (max-width: 768px) {
                .credits-profile-card {
                    flex-direction: column;
                    text-align: center;
                    padding: 2rem;
                }
                
                .profile-name-new {
                    font-size: 2.5rem;
                }
                
                .credits-stats-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
                
                .credits-actions {
                    flex-direction: column;
                }
                
                .action-button-new {
                    width: 100%;
                    justify-content: center;
                }
            }
        </style>
    `;
}


// Event Handlers
function handlePrenotaSubmit(event) {
    event.preventDefault();
    showToast('Prenotazione inviata con successo! Riceverai una conferma via email.', 'success');
    event.target.reset();
}

// FAQ Toggle Function
function toggleFAQ(element) {
    const faqItem = element.closest('.faq-item');
    const isActive = faqItem.classList.contains('active');
    
    // Close all FAQ items
    document.querySelectorAll('.faq-item').forEach(item => {
        item.classList.remove('active');
    });
    
    // Open clicked item if it wasn't active
    if (!isActive) {
        faqItem.classList.add('active');
    }
}

// Scroll to Modulo Function
function scrollToModulo() {
    const modulo = document.getElementById('modulo-prenotazione');
    if (modulo) {
        modulo.scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
        });
    }
}

// Variabili globali per lo stato dei servizi e tag
let adminData = {
    services: {
        prenotazioni: 'operational',
        autenticazione: 'operational', 
        documenti: 'operational',
        database: 'operational',
        notifiche: 'operational',
        backup: 'maintenance'
    },
    prenotazioni: {
        urp: 'available',
        portoArmi: 'available',
        denunce: 'available',
        colloquio: 'appointment'
    }
};

function handleLoginSubmit(event) {
    event.preventDefault();
    
    // Credenziali nascoste (non visibili nel codice sorgente)
    const credentials = {
        matricola: btoa('Amministratore_del_Sitema_128734278323'),
        password: btoa('IlSistemadiGestionedellaPolizia23327432743792')
    };
    
    const formData = new FormData(event.target);
    const inputMatricola = formData.get('matricola') || event.target.querySelector('input[type="text"]').value;
    const inputPassword = formData.get('password') || event.target.querySelector('input[type="password"]').value;
    
    // Decodifica le credenziali per il confronto
    const correctMatricola = atob(credentials.matricola);
    const correctPassword = atob(credentials.password);
    
    if (inputMatricola === correctMatricola && inputPassword === correctPassword) {
        showToast('Accesso autorizzato! Benvenuto nel sistema.', 'success');
        // Reindirizza alla dashboard amministrativa
        navigateTo('admin');
    } else {
        showToast('Credenziali non valide. Accesso negato.', 'error');
    }
}

function updateServiceStatus(serviceId, status) {
    adminData.services[serviceId] = status;
    showToast(`Status ${serviceId} aggiornato a: ${status}`, 'success');
    // Ricarica la pagina aggiornamenti per vedere le modifiche
    if (currentPage === 'aggiornamenti') {
        navigateTo('aggiornamenti');
    }
}

function updatePrenotazioneStatus(serviceId, status) {
    adminData.prenotazioni[serviceId] = status;
    showToast(`Prenotazione ${serviceId} aggiornata a: ${status}`, 'success');
    // Ricarica la pagina prenotazioni per vedere le modifiche
    if (currentPage === 'prenota') {
        navigateTo('prenota');
    }
}

// News Filtering Function
function filterNews(category) {
    const newsGrid = document.getElementById('newsGrid');
    const newsCards = newsGrid.querySelectorAll('.news-card');
    const filterButtons = document.querySelectorAll('.news-filter-btn');
    
    // Update active button
    filterButtons.forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Filter cards with animation
    newsCards.forEach((card, index) => {
        const cardCategory = card.getAttribute('data-category');
        const shouldShow = category === 'tutte' || cardCategory === category;
        
        if (shouldShow) {
            card.style.display = 'block';
            card.style.animation = `fadeInUp 0.5s ease-out ${index * 0.1}s both`;
        } else {
            card.style.animation = 'fadeOut 0.3s ease-in both';
            setTimeout(() => {
                card.style.display = 'none';
            }, 300);
        }
    });
}

// Add CSS animations for news filtering
const newsAnimations = `
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fadeOut {
        from {
            opacity: 1;
            transform: scale(1);
        }
        to {
            opacity: 0;
            transform: scale(0.95);
        }
    }
`;

// Initialize animations and scroll effects
function initAnimations() {
    // Add animation classes to elements
    const animatedElements = document.querySelectorAll('.service-card, .news-card, .stat-card, .nav-menu a, .btn-primary, .hero h1, .hero p, .hero-buttons');
    
    animatedElements.forEach((element, index) => {
        element.style.animationDelay = `${index * 0.1}s`;
    });
    
    // Scroll-triggered animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animated');
            }
        });
    }, observerOptions);
    
    // Observe elements for scroll animations
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
    });
    
    // Add stagger delays to grid items
    document.querySelectorAll('.services-grid > *, .news-grid > *, .hero-stats > *').forEach((item, index) => {
        item.style.setProperty('--stagger-delay', index);
        item.classList.add('animate-stagger');
    });
}

// Enhanced page transitions
function enhancePageTransitions() {
    const content = document.getElementById('content');
    if (content) {
        content.classList.add('page-enter');
        
        // Remove transition class after animation
        setTimeout(() => {
            content.classList.remove('page-enter');
        }, 500);
    }
}

// Parallax scrolling effect
function initParallax() {
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.parallax-slow, .parallax-fast');
        
        parallaxElements.forEach(element => {
            const speed = element.classList.contains('parallax-fast') ? 0.5 : 0.3;
            const yPos = -(scrolled * speed);
            element.style.transform = `translateY(${yPos}px)`;
        });
    });
}

// Enhanced hover effects
function initHoverEffects() {
    // Add hover classes to interactive elements
    const hoverElements = document.querySelectorAll('.service-card, .news-card, .btn-primary, .nav-menu a, .stat-card');
    
    hoverElements.forEach(element => {
        element.classList.add('hover-lift');
        
        // Add specific hover effects based on element type
        if (element.classList.contains('service-card')) {
            element.classList.add('hover-scale');
        }
        if (element.classList.contains('btn-primary')) {
            element.classList.add('hover-glow');
        }
    });
}

// Text reveal animation
function initTextReveal() {
    const textElements = document.querySelectorAll('h1, h2, h3');
    
    textElements.forEach(element => {
        const text = element.textContent;
        element.innerHTML = '';
        element.classList.add('text-reveal');
        
        text.split('').forEach((char, index) => {
            const span = document.createElement('span');
            span.textContent = char === ' ' ? '\u00A0' : char;
            span.style.animationDelay = `${index * 0.05}s`;
            element.appendChild(span);
        });
    });
}

// Loading animations
function showEnhancedLoading() {
    const loadingOverlay = document.createElement('div');
    loadingOverlay.className = 'loading-overlay active';
    loadingOverlay.innerHTML = `
        <div class="loading-spinner">
            <div class="loading-pulse"></div>
        </div>
    `;
    document.body.appendChild(loadingOverlay);
}

function hideEnhancedLoading() {
    const loadingOverlay = document.querySelector('.loading-overlay');
    if (loadingOverlay) {
        loadingOverlay.classList.remove('active');
        setTimeout(() => {
            loadingOverlay.remove();
        }, 300);
    }
}

// Event Listeners
window.addEventListener('scroll', () => {
    updateScrollProgress();
    updateBackToTop();
});

// Close dropdowns when clicking outside
document.addEventListener('click', (e) => {
    const searchContainer = document.querySelector('.search-container');
    const searchBox = document.getElementById('searchBox');
    if (searchBox && !searchContainer.contains(e.target)) {
        searchBox.classList.remove('active');
    }
    
    const langSelector = document.querySelector('.language-selector');
    const langDropdown = document.getElementById('languageDropdown');
    if (langDropdown && !langSelector.contains(e.target)) {
        langDropdown.classList.remove('active');
    }
});

// PWA Install
// Helper: user profile photo
function getUserProfilePhoto() {
    return localStorage.getItem('userProfilePhoto') || 'https://i.imgur.com/8zbuZPh.png';
}

// Credits page animations
function initCreditsAnimations() {
    // Animate stat values counting with new class names
    const statValues = document.querySelectorAll('.stat-value-new');
    statValues.forEach(stat => {
        const finalValue = parseInt(stat.getAttribute('data-target'));
        if (!isNaN(finalValue)) {
            let currentValue = 0;
            const increment = finalValue / 50;
            const suffix = finalValue >= 100 ? '%' : '+';
            
            const counter = setInterval(() => {
                currentValue += increment;
                if (currentValue >= finalValue) {
                    currentValue = finalValue;
                    clearInterval(counter);
                }
                stat.textContent = Math.floor(currentValue) + (finalValue === 100 ? '%' : finalValue >= 100 ? '' : suffix);
            }, 30);
        }
    });
    
    // Handle profile photo upload
    const profileUpload = document.getElementById('profileUpload');
    if (profileUpload) {
        profileUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const profileImage = document.getElementById('profileImage');
                    if (profileImage) {
                        profileImage.src = event.target.result;
                        localStorage.setItem('userProfilePhoto', event.target.result);
                        showToast('Foto profilo aggiornata con successo!', 'success');
                    }
                };
                reader.readAsDataURL(file);
            }
        });
    }

    // Profile photo uploader
    const uploadInput = document.getElementById('profileUpload');
    if (uploadInput) {
        uploadInput.addEventListener('change', (e) => {
            const file = e.target.files && e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = () => {
                try {
                    localStorage.setItem('userProfilePhoto', reader.result);
                } catch (err) {
                    // Fallback: do nothing if quota exceeded
                }
                const img = document.getElementById('profileImage');
                if (img) img.src = reader.result;
                if (typeof showToast === 'function') {
                    showToast('Foto profilo aggiornata!', 'success');
                }
            };
            reader.readAsDataURL(file);
        });
    }
}

let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    showToast('Aggiungi questa app alla home screen!', 'info');
});

// Initialize
window.addEventListener('DOMContentLoaded', () => {
    // Check dark mode preference
    const prefersDark = true;
    const stored = localStorage.getItem('darkMode');
    const isDark = stored === null ? prefersDark : stored === 'true';
    document.body.classList.toggle('dark-mode', isDark);
    document.querySelector('.dark-mode-toggle').textContent = isDark ? '☀️' : '🌙';
    
    // Show cookie banner if not accepted
    if (!localStorage.getItem('cookiesAccepted')) {
        setTimeout(() => {
            document.getElementById('cookieBanner').classList.add('active');
        }, 2000);
    }
    
    // Set visitor count
    document.getElementById('visitorCount').textContent = visitorCount.toLocaleString();
    
    // Update visitor count every 10 seconds
    setInterval(updateVisitorCount, 10000);
    
    // Navigate to home
    navigateTo('home');

    // Ensure active state on first render
    updateActiveNav('home');

    // Force refresh sidebar logo once to bypass caches
    try {
        const sidebarLogo = document.querySelector('.sidebar-brand img');
        if (sidebarLogo) {
            const url = new URL(sidebarLogo.src);
            url.searchParams.set('cb', Date.now().toString());
            sidebarLogo.src = url.toString();
        }
    } catch (e) {
        // no-op
    }

    // Close sidebar with Escape
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeSidebar();
    });
});
</script>
</body>
</html>
